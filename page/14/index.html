<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222"/>
<script type="text/javascript" src="http://tajs.qq.com/stats?sId=66189719" charset="UTF-8"></script>


  
  
    
  
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.css"/>





  
  
    
  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/Han/3.3.0/han.min.css"/>



  <meta http-equiv="Cache-Control" content="no-transform"/>
  <meta http-equiv="Cache-Control" content="no-siteapp"/>



  <meta name="google-site-verification" content="b12Zu40L63PLgCtcn0IW8KCNRolmyQlaF22tf4rRLEg"/>



  <meta name="msvalidate.01" content="74A687E04D4EF9914B7AA20824207409"/>









  
  
    
  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.6/jquery.fancybox.min.css"/>




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link rel="stylesheet" href="https://fonts.loli.net/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext"/>
  






<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2"/>

<link rel="stylesheet" href="/css/main.css?v=7.0.1"/>


  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/small_favicon.png?v=7.0.1">


  <link rel="mask-icon" href="/images/favicon.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.0.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":true,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: true,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="hope bioinformatics blog">
<meta property="og:type" content="website">
<meta property="og:title" content="hope">
<meta property="og:url" content="http://tiramisutes.github.io/page/14/index.html">
<meta property="og:site_name" content="hope">
<meta property="og:description" content="hope bioinformatics blog">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="hope">
<meta name="twitter:description" content="hope bioinformatics blog">



  <link rel="alternate" href="/atom.xml" title="hope" type="application/atom+xml"/>




  <link rel="canonical" href="http://tiramisutes.github.io/page/14/"/>



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>hope – A new day is coming,whether we like it or not. The question is will you control it,or will it control you?</title>
  






  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?08b17c69c7ba460d9ab5f188a048ee6d";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>







  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">hope</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <h1 class="site-subtitle" itemprop="description">A new day is coming,whether we like it or not. The question is will you control it,or will it control you?</h1>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br/>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br/>Archives</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-code">

    
    
    
      
    

    

    <a href="/code/" rel="section"><i class="menu-item-icon fa fa-fw fa-code"></i> <br/>Code</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br/>Categories</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br/>Tags</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-footprint">

    
    
    
      
    

    

    <a href="/footprint/" rel="section"><i class="menu-item-icon fa fa-fw fa-image"></i> <br/>Footprint</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-qrt-pcr">

    
    
    
      
    

    

    <span class="exturl" data-url="aHR0cHM6Ly9paG9wZS5zaGlueWFwcHMuaW8vcVJULVBDUi1QaXBlbGluZS8="><i class="menu-item-icon fa fa-fw fa-cloud"></i> <br/>qRT-PCR</span>

  </li>
        
        
        
          
          <li class="menu-item menu-item-project">

    
    
    
      
    

    

    <a href="/project/" rel="section"><i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br/>Project</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-publish">

    
    
    
      
    

    

    <a href="/publish/" rel="section"><i class="menu-item-icon fa fa-fw fa-book"></i> <br/>Publish</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-sci-figure">

    
    
    
      
    

    

    <a href="/SCIFigure/" rel="section"><i class="menu-item-icon fa fa-fw fa-angellist"></i> <br/>SCI Figure</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br/>About</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-cv">

    
    
    
      
    

    

    <a href="/resume/" rel="section"><i class="menu-item-icon fa fa-fw fa-address-card"></i> <br/>CV</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br/>Search</a>
        </li>
      
    </ul>
  

  
    

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://tiramisutes.github.io/2015/07/29/grep.html"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tiramisutes"/>
      <meta itemprop="description" content="hope bioinformatics blog"/>
      <meta itemprop="image" content="/images/author.jpg"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hope"/>
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2015/07/29/grep.html" class="post-title-link" itemprop="url">14 个 grep 命令的例子</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2015-07-29 22:49:56" itemprop="dateCreated datePublished" datetime="2015-07-29T22:49:56+08:00">2015-07-29</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2015/07/29/grep.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2015/07/29/grep.html" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
            <span id="/2015/07/29/grep.html" class="leancloud_visitors" data-flag-title="14 个 grep 命令的例子">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">Views: </span>
              
                <span class="leancloud-visitors-count"></span>
                <span>℃</span>
            </span>
          

          

          
            <div class="post-symbolscount">
              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article: </span>
                
                <span title="Words count in article"></span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time"></span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>概述：所有的类linux系统都会提供一个名为grep(global regular expression print，全局正则表达式输出)的搜索工具。grep命令在对一个或多个文件的内容进行基于模式的搜索的情况下是非常有用的。模式可以是单个字符、多个字符、单个单词、或者是一个句子。<br>当命令匹配到执行命令时指定的模式时，grep会将包含模式的一行输出，但是并不对原文件内容进行修改。</p>
<p>在本文中，我们将会讨论到14个grep命令的例子。</p>
<h3 id="例1_在文件中查找模式（单词）在/etc/passwd文件中查找单词”linuxtechi”">例1 在文件中查找模式（单词）在/etc/passwd文件中查找单词”linuxtechi”</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@Linux-world:~<span class="comment"># grep linuxtechi /etc/passwd</span></span><br><span class="line">linuxtechi:x:1000:1000:linuxtechi,,,:/home/linuxtechi:/bin/bash</span><br><span class="line">root@Linux-world:~<span class="comment">#</span></span><br></pre></td></tr></table></figure>
<h3 id="例2_在多个文件中查找模式。">例2 在多个文件中查找模式。</h3><pre><code><span class="number">1.</span> root<span class="annotation">@Linux</span>-<span class="string">world:</span>~# grep linuxtechi <span class="regexp">/etc/</span>passwd <span class="regexp">/etc/</span>shadow <span class="regexp">/etc/</span>gshadow
<span class="number">2.</span> <span class="regexp">/etc/</span><span class="string">passwd:</span><span class="string">linuxtechi:</span><span class="string">x:</span><span class="number">1000</span>:<span class="number">1000</span>:linuxtechi,,,:<span class="regexp">/home/</span><span class="string">linuxtechi:</span><span class="regexp">/bin/</span>bash
<span class="number">3.</span> <span class="regexp">/etc/</span><span class="string">shadow:</span><span class="string">linuxtechi:</span><span class="string">$6$DdgXjxlM$4flz4JRvefvKp0DG6re:</span><span class="number">16550</span>:<span class="number">0</span>:<span class="number">99999</span>:<span class="number">7</span>:::<span class="regexp">/etc/</span><span class="string">gshadow:</span><span class="string">adm:</span>*::syslog,linuxtechi
<span class="number">4.</span> <span class="regexp">/etc/</span><span class="string">gshadow:</span><span class="string">cdrom:</span>*::linuxtechi
<span class="number">5.</span> <span class="regexp">/etc/</span><span class="string">gshadow:</span><span class="string">sudo:</span>*::linuxtechi
<span class="number">6.</span> <span class="regexp">/etc/</span><span class="string">gshadow:</span><span class="string">dip:</span>*::linuxtechi
<span class="number">7.</span> <span class="regexp">/etc/</span><span class="string">gshadow:</span><span class="string">plugdev:</span>*::linuxtechi
<span class="number">8.</span> <span class="regexp">/etc/</span><span class="string">gshadow:</span><span class="string">lpadmin:</span>!::linuxtechi
<span class="number">9.</span> <span class="regexp">/etc/</span><span class="string">gshadow:</span><span class="string">linuxtechi:</span>!::
<span class="number">10.</span> <span class="regexp">/etc/</span><span class="string">gshadow:</span><span class="string">sambashare:</span>!::linuxtechi
<span class="number">11.</span> root<span class="annotation">@Linux</span>-<span class="string">world:</span>~#
</code></pre><h3 id="例3_使用-l参数列出包含指定模式的文件的文件名。">例3 使用-l参数列出包含指定模式的文件的文件名。</h3><pre><code><span class="number">1.</span> root<span class="annotation">@Linux</span>-<span class="string">world:</span>~# grep -l linuxtechi <span class="regexp">/etc/</span>passwd <span class="regexp">/etc/</span>shadow <span class="regexp">/etc/</span>fstab <span class="regexp">/etc/</span>mtab
<span class="number">2.</span> <span class="regexp">/etc/</span>passwd
<span class="number">3.</span> <span class="regexp">/etc/</span>shadow
<span class="number">4.</span> root<span class="annotation">@Linux</span>-<span class="string">world:</span>~#
</code></pre><h3 id="例4_使用-n参数，在文件中查找指定模式并显示匹配行的行号">例4 使用-n参数，在文件中查找指定模式并显示匹配行的行号</h3><pre><code><span class="number">1</span>. root<span class="variable">@Linux</span>-<span class="symbol">world:</span>~<span class="comment"># grep -n linuxtechi /etc/passwd</span>
<span class="number">2</span>. <span class="number">39</span><span class="symbol">:linuxtechi</span><span class="symbol">:x</span><span class="symbol">:</span><span class="number">1000</span><span class="symbol">:</span><span class="number">1000</span><span class="symbol">:linuxtechi</span>,,,<span class="symbol">:/home/linuxtechi</span><span class="symbol">:/bin/bash</span>
<span class="number">3</span>. root<span class="variable">@Linux</span>-<span class="symbol">world:</span>~<span class="comment">#</span>
<span class="number">4</span>. root<span class="variable">@Linux</span>-<span class="symbol">world:</span>~<span class="comment"># grep -n root /etc/passwd /etc/shadow</span>
</code></pre><h3 id="例5_使用-v参数输出不包含指定模式的行输出/etc/passwd文件中所有不含单词”linuxtechi”的行">例5 使用-v参数输出不包含指定模式的行输出/etc/passwd文件中所有不含单词”linuxtechi”的行</h3><pre><code><span class="number">1.</span> root<span class="annotation">@Linux</span>-<span class="string">world:</span>~# grep -v linuxtechi <span class="regexp">/etc/</span>passwd
</code></pre><h3 id="例6_使用_^_符号输出所有以某指定模式开头的行Bash脚本将_^_符号视作特殊字符，用于指定一行或者一个单词的开始。例如输出/etc/passes文件中所有以”root”开头的行">例6 使用 ^ 符号输出所有以某指定模式开头的行Bash脚本将 ^ 符号视作特殊字符，用于指定一行或者一个单词的开始。例如输出/etc/passes文件中所有以”root”开头的行</h3><pre><code><span class="number">1</span>. root<span class="variable">@Linux</span>-<span class="symbol">world:</span>~<span class="comment"># grep ^root /etc/passwd</span>
<span class="number">2</span>. <span class="symbol">root:</span><span class="symbol">x:</span><span class="number">0</span><span class="symbol">:</span><span class="number">0</span><span class="symbol">:root</span><span class="symbol">:/root</span><span class="symbol">:/bin/bash</span>
<span class="number">3</span>. root<span class="variable">@Linux</span>-<span class="symbol">world:</span>~<span class="comment">#</span>
</code></pre><h3 id="例7_使用_$_符号输出所有以指定模式结尾的行。输出/etc/passwd文件中所有以”bash”结尾的行。">例7 使用 $ 符号输出所有以指定模式结尾的行。输出/etc/passwd文件中所有以”bash”结尾的行。</h3><pre><code><span class="number">1</span>. root<span class="variable">@Linux</span>-<span class="symbol">world:</span>~<span class="comment"># grep bash$ /etc/passwd</span>
<span class="number">2</span>. <span class="symbol">root:</span><span class="symbol">x:</span><span class="number">0</span><span class="symbol">:</span><span class="number">0</span><span class="symbol">:root</span><span class="symbol">:/root</span><span class="symbol">:/bin/bash</span>
<span class="number">3</span>. <span class="symbol">linuxtechi:</span><span class="symbol">x:</span><span class="number">1000</span><span class="symbol">:</span><span class="number">1000</span><span class="symbol">:linuxtechi</span>,,,<span class="symbol">:/home/linuxtechi</span><span class="symbol">:/bin/bash</span>
<span class="number">4</span>. root<span class="variable">@Linux</span>-<span class="symbol">world:</span>~<span class="comment">#</span>
</code></pre><p>Bash脚本将美元($)符号视作特殊字符，用于指定一行或者一个单词的结尾。</p>
<h3 id="例8_使用_-r_参数递归地查找特定模式">例8 使用 -r 参数递归地查找特定模式</h3><pre><code><span class="number">1.</span> root<span class="annotation">@Linux</span>-<span class="string">world:</span>~# grep -r linuxtechi <span class="regexp">/etc/</span>
<span class="number">2.</span> <span class="regexp">/etc/</span><span class="string">subuid:</span><span class="string">linuxtechi:</span><span class="number">100000</span>:<span class="number">65536</span>
<span class="number">3.</span> <span class="regexp">/etc/</span><span class="string">group:</span><span class="string">adm:</span><span class="string">x:</span><span class="number">4</span>:syslog,linuxtechi
<span class="number">4.</span> <span class="regexp">/etc/</span><span class="string">group:</span><span class="string">cdrom:</span><span class="string">x:</span><span class="number">24</span>:linuxtechi
<span class="number">5.</span> <span class="regexp">/etc/</span><span class="string">group:</span><span class="string">sudo:</span><span class="string">x:</span><span class="number">27</span>:linuxtechi
<span class="number">6.</span> <span class="regexp">/etc/</span><span class="string">group:</span><span class="string">dip:</span><span class="string">x:</span><span class="number">30</span>:linuxtechi
<span class="number">7.</span> <span class="regexp">/etc/</span><span class="string">group:</span><span class="string">plugdev:</span><span class="string">x:</span><span class="number">46</span>:linuxtechi
<span class="number">8.</span> <span class="regexp">/etc/</span><span class="string">group:</span><span class="string">lpadmin:</span><span class="string">x:</span><span class="number">115</span>:linuxtechi
<span class="number">9.</span> <span class="regexp">/etc/</span><span class="string">group:</span><span class="string">linuxtechi:</span><span class="string">x:</span><span class="number">1000</span>:
<span class="number">10.</span> <span class="regexp">/etc/</span><span class="string">group:</span><span class="string">sambashare:</span><span class="string">x:</span><span class="number">131</span>:linuxtechi
<span class="number">11.</span> <span class="regexp">/etc/</span>passwd-:<span class="string">linuxtechi:</span><span class="string">x:</span><span class="number">1000</span>:<span class="number">1000</span>:linuxtechi,,,:<span class="regexp">/home/</span><span class="string">linuxtechi:</span><span class="regexp">/bin/</span>bash
<span class="number">12.</span> <span class="regexp">/etc/</span><span class="string">passwd:</span><span class="string">linuxtechi:</span><span class="string">x:</span><span class="number">1000</span>:<span class="number">1000</span>:linuxtechi,,,:<span class="regexp">/home/</span><span class="string">linuxtechi:</span><span class="regexp">/bin/</span>bash
<span class="number">13.</span> ............................................................................
</code></pre><p>上面的命令将会递归的在/etc目录中查找”linuxtechi”单词</p>
<h3 id="例9_使用_grep_查找文件中所有的空行">例9 使用 grep 查找文件中所有的空行</h3><pre><code><span class="number">1.</span> root<span class="annotation">@Linux</span>-<span class="string">world:</span>~# grep ^$ <span class="regexp">/etc/</span>shadow
<span class="number">2.</span> root<span class="annotation">@Linux</span>-<span class="string">world:</span>~#
</code></pre><p>由于/etc/shadow文件中没有空行，所以没有任何输出</p>
<h3 id="例10_使用_-i_参数查找模式grep命令的-i参数在查找时忽略字符的大小写。">例10 使用 -i 参数查找模式grep命令的-i参数在查找时忽略字符的大小写。</h3><p>我们来看一个例子，在paswd文件中查找”LinuxTechi”单词。</p>
<pre><code><span class="number">1</span>. nextstep4it<span class="variable">@localhost</span><span class="symbol">:~</span><span class="variable">$ </span>grep -i <span class="constant">LinuxTechi </span>/etc/passwd
<span class="number">2</span>. <span class="symbol">linuxtechi:</span><span class="symbol">x:</span><span class="number">1001</span><span class="symbol">:</span><span class="number">1001</span><span class="symbol">:</span><span class="symbol">:/home/linuxtechi</span><span class="symbol">:/bin/bash</span>
<span class="number">3</span>. nextstep4it<span class="variable">@localhost</span><span class="symbol">:~</span>$
</code></pre><h3 id="例11_使用_-e_参数查找多个模式例如，我想在一条grep命令中查找’linuxtechi’和’root’单词，使用-e参数，我们可以查找多个模式。">例11 使用 -e 参数查找多个模式例如，我想在一条grep命令中查找’linuxtechi’和’root’单词，使用-e参数，我们可以查找多个模式。</h3><pre><code><span class="number">1</span>. root<span class="variable">@Linux</span>-<span class="symbol">world:</span>~<span class="comment"># grep -e "linuxtechi" -e "root" /etc/passwd</span>
<span class="number">2</span>. <span class="symbol">root:</span><span class="symbol">x:</span><span class="number">0</span><span class="symbol">:</span><span class="number">0</span><span class="symbol">:root</span><span class="symbol">:/root</span><span class="symbol">:/bin/bash</span>
<span class="number">3</span>. <span class="symbol">linuxtechi:</span><span class="symbol">x:</span><span class="number">1000</span><span class="symbol">:</span><span class="number">1000</span><span class="symbol">:linuxtechi</span>,,,<span class="symbol">:/home/linuxtechi</span><span class="symbol">:/bin/bash</span>
<span class="comment">#或者</span>
<span class="number">4</span>. root<span class="variable">@Linux</span>-<span class="symbol">world:</span>~<span class="comment"># grep -E "(Olfr1413|Olfr1411)" Mus_musculus.GRCm38.75_chr1_genes.txt</span>
<span class="constant">ENSMUSG00000058904 </span>     <span class="constant">Olfr1413</span>
<span class="constant">ENSMUSG00000062497 </span>     <span class="constant">Olfr1411</span>
<span class="comment">#或者</span>
grep <span class="string">'usrquota\|grpquota'</span> /etc/fstab
</code></pre><h3 id="例12_使用_-f_用文件指定待查找的模式首先，在当前目录中创建一个搜索模式文件”grep_pattern”，我想文件中输入的如下内容。">例12 使用 -f 用文件指定待查找的模式首先，在当前目录中创建一个搜索模式文件”grep_pattern”，我想文件中输入的如下内容。</h3><pre><code><span class="number">1</span>. root<span class="variable">@Linux</span>-<span class="symbol">world:</span>~<span class="comment"># cat grep_pattern</span>
<span class="number">2</span>. ^linuxtechi
<span class="number">3</span>. root
<span class="number">4</span>. <span class="keyword">false</span><span class="variable">$
</span><span class="number">5</span>. root<span class="variable">@Linux</span>-<span class="symbol">world:</span>~<span class="comment">#</span>
</code></pre><p>现在，试试使用grep_pattern文件进行搜索</p>
<pre><code><span class="number">1.</span> root<span class="annotation">@Linux</span>-<span class="string">world:</span>~# grep -f grep_pattern <span class="regexp">/etc/</span>passwd
</code></pre><h3 id="例13_使用_-c_参数计算模式匹配到的数量继续上面例子，我们在grep命令中使用-c命令计算匹配指定模式的数量">例13 使用 -c 参数计算模式匹配到的数量继续上面例子，我们在grep命令中使用-c命令计算匹配指定模式的数量</h3><pre><code><span class="number">1.</span> root<span class="annotation">@Linux</span>-<span class="string">world:</span>~# grep -c -f grep_pattern <span class="regexp">/etc/</span>passwd
<span class="number">2.</span> <span class="number">22</span>
<span class="number">3.</span> root<span class="annotation">@Linux</span>-<span class="string">world:</span>~#
</code></pre><h3 id="例14_输出匹配指定模式行的前或者后面N行">例14 输出匹配指定模式行的前或者后面N行</h3><p>a)使用-B参数输出匹配行的前4行</p>
<pre><code><span class="number">1.</span> root<span class="annotation">@Linux</span>-<span class="string">world:</span>~# grep -B <span class="number">4</span> <span class="string">"games"</span> <span class="regexp">/etc/</span>passwd
</code></pre><p>b)使用-A参数输出匹配行的后4行</p>
<pre><code><span class="number">1.</span> root<span class="annotation">@Linux</span>-<span class="string">world:</span>~# grep -A <span class="number">4</span> <span class="string">"games"</span> <span class="regexp">/etc/</span>passwd
</code></pre><p>c)使用-C参数输出匹配行的前后各4行</p>
<pre><code><span class="number">1.</span> root<span class="annotation">@Linux</span>-<span class="string">world:</span>~# grep -C <span class="number">4</span> <span class="string">"games"</span> <span class="regexp">/etc/</span>passwd
</code></pre><h3 id="例15_-E参数用扩展的正则表达式">例15 -E参数用扩展的正则表达式</h3><p>列出当前目录下包含 s..s 的文件名，<code>\1</code>为反向引用()中内容，如下例子中等同于s。</p>
<pre><code><span class="keyword">ls</span> | <span class="keyword">grep</span> -E <span class="string">'(s).+\1'</span>
</code></pre><h3 id="例16_组分隔符">例16 组分隔符</h3><p>‘—group-separator=STRING’<br>当使用’-A’, ‘-B’ or ‘-C’时，使用STRING替代默认的组分隔符。</p>
<p>(注：组分隔符表示匹配到的内容的上下文。例如”-A 2”，在某行匹配到时，还将输出后两行，这是一个组。下一次匹配成功时，如果是在该组之后行匹配上的，则这两组中间默认使用”—“分隔)</p>
<p>‘—no-group-separator’<br>当使用’-A’, ‘-B’ or ‘-C’时，不输出任何组分隔符，而是将不同组相邻输出。</p>

          
        
      
    </div>

    

    
    
    

    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://tiramisutes.github.io/2015/07/29/perl-diff.html"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tiramisutes"/>
      <meta itemprop="description" content="hope bioinformatics blog"/>
      <meta itemprop="image" content="/images/author.jpg"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hope"/>
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2015/07/29/perl-diff.html" class="post-title-link" itemprop="url">用于比较两个文件不同的行差集</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2015-07-29 22:39:49" itemprop="dateCreated datePublished" datetime="2015-07-29T22:39:49+08:00">2015-07-29</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Bioinformatics/" itemprop="url" rel="index"><span itemprop="name">Bioinformatics</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2015/07/29/perl-diff.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2015/07/29/perl-diff.html" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
            <span id="/2015/07/29/perl-diff.html" class="leancloud_visitors" data-flag-title="用于比较两个文件不同的行差集">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">Views: </span>
              
                <span class="leancloud-visitors-count"></span>
                <span>℃</span>
            </span>
          

          

          
            <div class="post-symbolscount">
              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article: </span>
                
                <span title="Words count in article"></span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time"></span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>这个脚本用于求两个文件不同的行所构成的差集，即A中存在而B中不存在的行，及B中存在而A中不存在的行.<br>代码：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/perl -w</span></span><br><span class="line">use strict;</span><br><span class="line"></span><br><span class="line">my (<span class="variable">$fileA</span>,<span class="variable">$fileB</span>) = @ARGV;</span><br><span class="line"></span><br><span class="line">open A,<span class="string">'&lt;'</span>,<span class="variable">$fileA</span> or die <span class="string">"Unable to open file:<span class="variable">$fileA</span>:$!"</span>;</span><br><span class="line">my %ta;</span><br><span class="line">my <span class="variable">$i</span>; </span><br><span class="line"><span class="keyword">while</span>(&lt;A&gt;)&#123;</span><br><span class="line">  chomp;</span><br><span class="line">  <span class="variable">$ta</span>&#123;<span class="variable">$_</span>&#125; = ++<span class="variable">$i</span>; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">close A;</span><br><span class="line"></span><br><span class="line">open B,<span class="string">'&lt;'</span>,<span class="variable">$fileB</span> or die <span class="string">"Unable to open file:<span class="variable">$fileB</span>:$!"</span>;</span><br><span class="line">my @B; </span><br><span class="line"><span class="keyword">while</span>(&lt;B&gt;)&#123;</span><br><span class="line">    chomp;</span><br><span class="line">    unless (defined <span class="variable">$ta</span>&#123;<span class="variable">$_</span>&#125;)&#123;</span><br><span class="line">        push @B,<span class="variable">$_</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="variable">$ta</span>&#123;<span class="variable">$_</span>&#125; = 0;</span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br><span class="line">close B;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Output diff to different files respectively</span></span><br><span class="line"></span><br><span class="line">open DIFF_A, <span class="string">"&gt;<span class="variable">$fileA</span>.diff"</span> or die <span class="string">"Unable to create diff file for <span class="variable">$fileA</span>:$!"</span>;</span><br><span class="line">my <span class="variable">$countA</span>;</span><br><span class="line"><span class="built_in">print</span> <span class="string">"Remain in files <span class="variable">$fileA</span>\n"</span>;</span><br><span class="line">my %tt = reverse %ta;</span><br><span class="line"></span><br><span class="line">foreach (keys %tt) &#123;</span><br><span class="line">    <span class="variable">$countA</span> += <span class="variable">$_</span>&gt;0? <span class="built_in">print</span> DIFF_A <span class="variable">$tt</span>&#123;<span class="variable">$_</span>&#125;.<span class="string">"\n"</span>:0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> <span class="string">"<span class="variable">$countA</span> lines\n"</span>;</span><br><span class="line"></span><br><span class="line">close DIFF_A;</span><br><span class="line"></span><br><span class="line">open DIFF_B, <span class="string">"&gt;<span class="variable">$fileB</span>.diff"</span> or die <span class="string">"Unable to create diff file for <span class="variable">$fileB</span>:$!"</span>;</span><br><span class="line">my <span class="variable">$countB</span> = scalar @B; </span><br><span class="line"><span class="built_in">print</span> DIFF_B <span class="variable">$_</span>.<span class="string">"\n"</span> foreach @B; </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$countA</span> == 0 and <span class="variable">$countB</span> ==0 )&#123;</span><br><span class="line">    <span class="built_in">print</span> STDOUT <span class="string">"The two files are identical\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">close DIFF_B;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    

    
    
    

    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://tiramisutes.github.io/2015/07/29/sitemap.html"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tiramisutes"/>
      <meta itemprop="description" content="hope bioinformatics blog"/>
      <meta itemprop="image" content="/images/author.jpg"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hope"/>
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2015/07/29/sitemap.html" class="post-title-link" itemprop="url">如何向google提交sitemap</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2015-07-29 22:23:44" itemprop="dateCreated datePublished" datetime="2015-07-29T22:23:44+08:00">2015-07-29</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Hexo/" itemprop="url" rel="index"><span itemprop="name">Hexo</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2015/07/29/sitemap.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2015/07/29/sitemap.html" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
            <span id="/2015/07/29/sitemap.html" class="leancloud_visitors" data-flag-title="如何向google提交sitemap">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">Views: </span>
              
                <span class="leancloud-visitors-count"></span>
                <span>℃</span>
            </span>
          

          

          
            <div class="post-symbolscount">
              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article: </span>
                
                <span title="Words count in article"></span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time"></span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>Sitemap 可方便管理员通知搜索引擎他们网站上有哪些可供抓取的网页。向google提交自己hexo博客的sitemap有助于让别人更好地通过google搜索到自己的博客。<br>下面来说一下具体步骤:</p>
<h2 id="第一步_生成自己的sitemap文件：xml-sitemaps-">第一步 生成自己的sitemap文件：<span class="exturl" data-url="aHR0cHM6Ly93d3cueG1sLXNpdGVtYXBzLmNvbS8=" title="https://www.xml-sitemaps.com/">xml-sitemaps.<i class="fa fa-external-link"></i></span></h2><p><img src="https://raw.githubusercontent.com/wiki/tiramisutes/blog_image/sitemap.png" alt=""><br>生成后点击红框那下载自己的sitemaps.xml文件<br><img src="https://raw.githubusercontent.com/wiki/tiramisutes/blog_image/sitemap2.png" alt=""></p>
<h2 id="第二步_向google提交你的网页">第二步 向google提交你的网页</h2><p>用自己的google帐号登陆Webmaster Central的网页<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.google.com/webmasters/verification/home?hl=en</span><br></pre></td></tr></table></figure></p>
<p>点击ADD A SITE<br>输入网页url点击continue<br><img src="https://raw.githubusercontent.com/wiki/tiramisutes/blog_image/1.png" alt=""></p>
<h2 id="第三步_google验证网页所有权">第三步 google验证网页所有权</h2><p>进入验证所有权的页面<br>可以选择上传一个html文件到你的网页的方式来验证<br>如下图<br><img src="https://raw.githubusercontent.com/wiki/tiramisutes/blog_image/2.png" alt=""><br><img src="https://raw.githubusercontent.com/wiki/tiramisutes/blog_image/3.png" alt=""><br>也可以选择其他方法也就是html tag<br>如下图<br><img src="https://raw.githubusercontent.com/wiki/tiramisutes/blog_image/6.png" alt=""><br>大致的意思就是在主页的head里面加一条meta标签<br>在自己的主页加了google指定的meta标签以后<br>回来此页点击verify按钮即完成验证<br><img src="https://raw.githubusercontent.com/wiki/tiramisutes/blog_image/4.png" alt=""></p>
<h2 id="第四步_google网站站长上传sitemap">第四步 google网站站长上传sitemap</h2><p>点击以下链接<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.google.com/webmasters/tools</span><br></pre></td></tr></table></figure></p>
<p>由于之前在第2步已经向google提交了你的网页<br>所以这里能看到自己网页的缩略图<br><img src="https://raw.githubusercontent.com/wiki/tiramisutes/blog_image/5.png" alt=""><br>这里直接点击红色框的部分<br>就会进入site dashboard<br>点击sitemap这一项<br>进入后点击ADD/TEST SITEMAP这个按钮<br>然后输入你的sitemap.xml的link<br>按submit sitemap按钮即可<br>下面就会告诉你有多少个url被indexed</p>
<h2 id="第五步_测试sitemaps">第五步 测试sitemaps</h2><p><span class="exturl" data-url="aHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS93ZWJtYXN0ZXJzL3Rvb2xzL3NpdGVtYXAtZGV0YWlscz9obD1lbiZzaXRlVXJsPWh0dHAlM0ElMkYlMkZ0aXJhbWlzdXRlcy5naXRodWIuaW8lMkYmc2l0ZW1hcFVybD1odHRwJTNBJTJGJTJGdGlyYW1pc3V0ZXMuZ2l0aHViLmlvJTJGc2l0ZW1hcC54bWwmZ3d0UGw9TDNkbFltMWhjM1JsY25NdmRHOXZiSE12YzJsMFpXMWhjQzFzYVhOMFAyaHNQV1Z1Sm5OcGRHVlZjbXc5YUhSMGNEb3ZMM1JwY21GdGFYTjFkR1Z6TG1kcGRHaDFZaTVwYnk4alRVRkpUbDlVUVVJOU1DWkRRVkpFWDFSQlFqMHRNUSUzRCUzRCNDQVJEX1RBQj0tMQ==" title="https://www.google.com/webmasters/tools/sitemap-details?hl=en&siteUrl=http%3A%2F%2Ftiramisutes.github.io%2F&sitemapUrl=http%3A%2F%2Ftiramisutes.github.io%2Fsitemap.xml&gwtPl=L3dlYm1hc3RlcnMvdG9vbHMvc2l0ZW1hcC1saXN0P2hsPWVuJnNpdGVVcmw9aHR0cDovL3RpcmFtaXN1dGVzLmdpdGh1Yi5pby8jTUFJTl9UQUI9MCZDQVJEX1RBQj0tMQ%3D%3D#CARD_TAB=-1">点击 Test Sitemap 进行测试<i class="fa fa-external-link"></i></span></p>
<p><img src="https://raw.githubusercontent.com/wiki/tiramisutes/blog_image/test-sitemaps.png" alt=""><br>测试成功结果如下：<br><img src="https://raw.githubusercontent.com/wiki/tiramisutes/blog_image/test-sitemap2.png" alt=""></p>

          
        
      
    </div>

    

    
    
    

    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://tiramisutes.github.io/2015/07/29/PCA.html"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tiramisutes"/>
      <meta itemprop="description" content="hope bioinformatics blog"/>
      <meta itemprop="image" content="/images/author.jpg"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hope"/>
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2015/07/29/PCA.html" class="post-title-link" itemprop="url">PCA分析</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2015-07-29 21:54:45" itemprop="dateCreated datePublished" datetime="2015-07-29T21:54:45+08:00">2015-07-29</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Bioinformatics/" itemprop="url" rel="index"><span itemprop="name">Bioinformatics</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2015/07/29/PCA.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2015/07/29/PCA.html" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
            <span id="/2015/07/29/PCA.html" class="leancloud_visitors" data-flag-title="PCA分析">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">Views: </span>
              
                <span class="leancloud-visitors-count"></span>
                <span>℃</span>
            </span>
          

          

          
            <div class="post-symbolscount">
              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article: </span>
                
                <span title="Words count in article"></span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time"></span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>主成分分析（PCA）是一种数据降维技巧，它能将大量相关变量转化为一组很少的不相关变量，这些无关变量称为主成分，它们是观测变量的线性组合。如第一主成分为：<br>PC1=a1X1=a2X 2+…+akXk<br>它是k个观测变量的加权组合，对初始变量集的方差解释性最大。第二主成分也是初始变量的线性组合，对方差的解释性排第二，同时与第一主成分正交（不相关）。后面每一个主成分都最大化它对方差的解释程度，同时与之前所有的主成分都正交。<br>PCA分析模型如下图：<br><img src="https://raw.githubusercontent.com/wiki/tiramisutes/blog_image/PCA.png" alt=""><br>例如如下数据的PCA分析：<br>学生身体4 项指标的主成份分析<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">学生序号	x1身高	x2体重	x3胸围	x4坐高</span><br><span class="line">1	148	41	72	78</span><br><span class="line">2	139	34	71	76</span><br><span class="line">3	160	49	77	86</span><br><span class="line">4	149	36	67	79</span><br><span class="line">5	159	45	80	86</span><br><span class="line">6	142	31	66	76</span><br><span class="line">7	153	43	76	83</span><br><span class="line">8	150	43	77	79</span><br><span class="line">9	151	42	77	80</span><br><span class="line">10	139	31	68	74</span><br><span class="line">11	140	29	64	74</span><br><span class="line">12	161	47	78	84</span><br><span class="line">13	158	49	78	83</span><br><span class="line">14	140	33	67	77</span><br><span class="line">15	137	31	66	73</span><br><span class="line">16	152	35	73	79</span><br><span class="line">17	149	47	82	79</span><br><span class="line">18	145	35	70	77</span><br><span class="line">19	160	47	74	87</span><br><span class="line">20	156	44	78	85</span><br><span class="line">21	151	42	73	82</span><br><span class="line">22	147	38	73	78</span><br><span class="line">23	157	39	68	80</span><br><span class="line">24	147	30	65	75</span><br><span class="line">25	157	48	80	88</span><br><span class="line">26	151	36	74	80</span><br><span class="line">27	144	36	68	76</span><br><span class="line">28	141	30	67	76</span><br><span class="line">29	139	32	68	73</span><br><span class="line">30	148	38	70	78</span><br></pre></td></tr></table></figure></p>
<p>数据读入R软件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&gt; d=read.table(<span class="string">"clipboard"</span>,header=T)</span><br><span class="line">&gt; d</span><br><span class="line">x1身高 x2体重 x3胸围 x4坐高</span><br><span class="line">1 148 41 72 78</span><br><span class="line">2 139 34 71 76</span><br><span class="line">3 160 49 77 86</span><br><span class="line">4 149 36 67 79</span><br><span class="line">5 159 45 80 86</span><br><span class="line">6 142 31 66 76</span><br><span class="line">7 153 43 76 83</span><br><span class="line">8 150 43 77 79</span><br><span class="line">9 151 42 77 80</span><br><span class="line">10 139 31 68 74</span><br><span class="line">11 140 29 64 74</span><br><span class="line">12 161 47 78 84</span><br><span class="line">13 158 49 78 83</span><br><span class="line">14 140 33 67 77</span><br><span class="line">15 137 31 66 73</span><br><span class="line">16 152 35 73 79</span><br><span class="line">17 149 47 82 79</span><br><span class="line">18 145 35 70 77</span><br><span class="line">19 160 47 74 87</span><br><span class="line">20 156 44 78 85</span><br><span class="line">21 151 42 73 82</span><br><span class="line">22 147 38 73 78</span><br><span class="line">23 157 39 68 80</span><br><span class="line">24 147 30 65 75</span><br><span class="line">25 157 48 80 88</span><br><span class="line">26 151 36 74 80</span><br><span class="line">27 144 36 68 76</span><br><span class="line">28 141 30 67 76</span><br><span class="line">29 139 32 68 73</span><br><span class="line">30 148 38 70 78</span><br></pre></td></tr></table></figure>
<p>原始数据标准化<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; sd=scale(d)</span><br></pre></td></tr></table></figure></p>
<p>标准化数据展示<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&gt; sd</span><br><span class="line">x1身高 x2体重 x3胸围 x4坐高</span><br><span class="line">[1,] -0.1366952 0.35602486 -0.04530114 -0.31999814</span><br><span class="line">[2,] -1.3669516 -0.72752905 -0.23944887 -0.78828809</span><br><span class="line">[3,] 1.5036468 1.59437218 0.92543751 1.55316168</span><br><span class="line">[4,] 0.0000000 -0.41794222 -1.01603978 -0.08585316</span><br><span class="line">[5,] 1.3669516 0.97519852 1.50788070 1.55316168</span><br><span class="line">[6,] -0.9568661 -1.19190930 -1.21018751 -0.78828809</span><br><span class="line">[7,] 0.5467806 0.66561169 0.73128978 0.85072675</span><br><span class="line">[8,] 0.1366952 0.66561169 0.92543751 -0.08585316</span><br><span class="line">[9,] 0.2733903 0.51081827 0.92543751 0.14829182</span><br><span class="line">[10,] -1.3669516 -1.19190930 -0.82189205 -1.25657805</span><br><span class="line">[11,] -1.2302564 -1.50149613 -1.59848297 -1.25657805</span><br><span class="line">[12,] 1.6403419 1.28478535 1.11958524 1.08487173</span><br><span class="line">[13,] 1.2302564 1.59437218 1.11958524 0.85072675</span><br><span class="line">[14,] -1.2302564 -0.88232247 -1.01603978 -0.55414311</span><br><span class="line">[15,] -1.6403419 -1.19190930 -1.21018751 -1.49072302</span><br><span class="line">[16,] 0.4100855 -0.57273564 0.14884659 -0.08585316</span><br><span class="line">[17,] 0.0000000 1.28478535 1.89617616 -0.08585316</span><br><span class="line">[18,] -0.5467806 -0.57273564 -0.43359660 -0.55414311</span><br><span class="line">[19,] 1.5036468 1.28478535 0.34299432 1.78730666</span><br><span class="line">[20,] 0.9568661 0.82040510 1.11958524 1.31901671</span><br><span class="line">[21,] 0.2733903 0.51081827 0.14884659 0.61658177</span><br><span class="line">[22,] -0.2733903 -0.10835539 0.14884659 -0.31999814</span><br><span class="line">[23,] 1.0935613 0.04643802 -0.82189205 0.14829182</span><br><span class="line">[24,] -0.2733903 -1.34670271 -1.40433524 -1.02243307</span><br><span class="line">[25,] 1.0935613 1.43957876 1.50788070 2.02145164</span><br><span class="line">[26,] 0.2733903 -0.41794222 0.34299432 0.14829182</span><br><span class="line">[27,] -0.6834758 -0.41794222 -0.82189205 -0.78828809</span><br><span class="line">[28,] -1.0935613 -1.34670271 -1.01603978 -0.78828809</span><br><span class="line">[29,] -1.3669516 -1.03711588 -0.82189205 -1.49072302</span><br><span class="line">[30,] -0.1366952 -0.10835539 -0.43359660 -0.31999814</span><br><span class="line">attr(,<span class="string">"scaled:center"</span>)</span><br><span class="line">x1身高 x2体重 x3胸围 x4坐高 </span><br><span class="line">149.00000 38.70000 72.23333 79.36667 </span><br><span class="line">attr(,<span class="string">"scaled:scale"</span>)</span><br><span class="line">x1身高 x2体重 x3胸围 x4坐高 </span><br><span class="line">7.315548 6.460223 5.150717 4.270858</span><br></pre></td></tr></table></figure></p>
<p>读取标准化数据<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; d=read.table(<span class="string">"clipboard"</span>,header=T)</span><br></pre></td></tr></table></figure></p>
<p>主成分分析<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; pca=princomp(d,cor=T)</span><br></pre></td></tr></table></figure></p>
<p>碎石图<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; screeplot(pca,<span class="built_in">type</span>=<span class="string">"line"</span>,main=<span class="string">"碎石图"</span>,lwd=2)</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></p>
<p><img src="https://raw.githubusercontent.com/wiki/tiramisutes/blog_image/PCAs.png" alt=""><br>主成分1贡献率较高</p>
<p>求相关矩阵<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; dcor=cor(d)</span><br></pre></td></tr></table></figure></p>
<p>输出<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; dcor</span><br><span class="line">               x1身高       x2体重       x3胸围       x4坐高</span><br><span class="line">x1身高 1.0000000 0.8631621 0.7321119 0.9204624</span><br><span class="line">x2体重 0.8631621 1.0000000 0.8965058 0.8827313</span><br><span class="line">x3胸围 0.7321119 0.8965058 1.0000000 0.7828827</span><br><span class="line">x4坐高 0.9204624 0.8827313 0.7828827 1.0000000</span><br></pre></td></tr></table></figure></p>
<p>求相关矩阵的特征向量 特征值<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; deig=eigen(dcor)</span><br></pre></td></tr></table></figure></p>
<p>输出<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;deig</span><br><span class="line"><span class="variable">$values</span></span><br><span class="line">[1] 3.54109800 0.31338316 0.07940895 0.06610989</span><br><span class="line"><span class="variable">$vectors</span></span><br><span class="line">[,1] [,2] [,3] [,4]</span><br><span class="line">[1,] -0.4969661 0.5432128 -0.4496271 0.5057471</span><br><span class="line">[2,] -0.5145705 -0.2102455 -0.4623300 -0.6908436</span><br><span class="line">[3,] -0.4809007 -0.7246214 0.1751765 0.4614884</span><br><span class="line">[4,] -0.5069285 0.3682941 0.7439083 -0.2323433</span><br></pre></td></tr></table></figure></p>
<p>输出特征值<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; deig<span class="variable">$values</span></span><br><span class="line">[1] 3.54109800 0.31338316 0.07940895 0.06610989</span><br><span class="line">&gt; sumeigv=sum(deig<span class="variable">$values</span>)</span><br><span class="line">&gt; sumeigv</span><br><span class="line">[1] 4</span><br></pre></td></tr></table></figure></p>
<p>求前2个主成分的累积方差贡献率<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; sum(deig<span class="variable">$value</span>[1:2])/4</span><br><span class="line">[1] 0.9636203</span><br><span class="line">&gt; sum(deig<span class="variable">$value</span>[1:1])/4</span><br><span class="line">[1] 0.8852745</span><br></pre></td></tr></table></figure></p>
<p>第一主成份有88.53%的方差贡献率,前两个主成份累计贡献率更高达96.36%,故只需前两个主成份就能很好地概括这组数据.</p>
<p>输出前两个主成分的载荷系数（特征向量）<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&gt; pca<span class="variable">$loadings</span>[,1:2]</span><br><span class="line">              Comp.1     Comp.2</span><br><span class="line">x1身高 -0.4969661 0.5432128</span><br><span class="line">x2体重 -0.5145705 -0.2102455</span><br><span class="line">x3胸围 -0.4809007 -0.7246214</span><br><span class="line">x4坐高 -0.5069285 0.3682941</span><br><span class="line"></span><br><span class="line">-----------------------------------------</span><br><span class="line"></span><br><span class="line">z1=-0.4969661 x1+-0.5145705 x2 +-0.4809007x3+-0.5069285x4</span><br><span class="line"></span><br><span class="line">z2=0.5432128 x1+-0.2102455 x2 +-0.7246214x3+0.3682941x4</span><br><span class="line"></span><br><span class="line">z= 3.54109800/4 z1 + 0.31338316/4 z2=0.8852745 z1 +0.07834579 Z2</span><br><span class="line"></span><br><span class="line">=0.8852745(-0.4969661 x1+-0.5145705 x2 +-0.4809007x3+-0.5069285x4)</span><br><span class="line"></span><br><span class="line">+0.07834579 (0.5432128 x1+-0.2102455 x2 +-0.7246214x3+0.3682941x4)</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">-----------------------------------------</span><br></pre></td></tr></table></figure></p>
<p>计算主成分C1和C2的系数b1 和b2：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; deig<span class="variable">$values</span>[1]/4;deig<span class="variable">$values</span>[2]/4</span><br><span class="line">[1] 0.8852745</span><br><span class="line">[1] 0.07834579</span><br></pre></td></tr></table></figure></p>
<p>综合得分函数C 为：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C=(b1*C1+b2*C2)/(b1+b2)=0.9187*C1+0.0813*C2</span><br></pre></td></tr></table></figure></p>
<p>输出前2 个主成分的得分<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; s=pca<span class="variable">$scores</span>[,1:2]</span><br></pre></td></tr></table></figure></p>
<p>计算综合得分<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt; c=s[1:30,1]*0.918696+s[1:30,2]*0.0813</span><br><span class="line"></span><br><span class="line">&gt; s[1:30,1]</span><br><span class="line">[1] 0.06990950 1.59526340 -2.84793151 0.75996988 -2.73966777 2.10583168</span><br><span class="line">[7] -1.42105591 -0.82583977 -0.93464402 2.36463820 2.83741916 -2.60851224</span><br><span class="line">[13] -2.44253342 1.86630669 2.81347421 0.06392983 -1.55561022 1.07392251</span><br><span class="line">[19] -2.52174212 -2.14072377 -0.79624422 0.28708321 -0.25151075 2.05706032</span><br><span class="line">[25] -3.08596855 -0.16367555 1.37265053 2.16097778 2.40434827 0.50287468</span><br></pre></td></tr></table></figure></p>
<p>输出综合得分信息<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&gt; cbind(s,c)</span><br><span class="line">          Comp.1       Comp.2           c</span><br><span class="line">[1,] 0.06990950 -0.23813701 0.04486504</span><br><span class="line">[2,] 1.59526340 -0.71847399 1.40715017</span><br><span class="line">[3,] -2.84793151 0.38956679 -2.58471151</span><br><span class="line">[4,] 0.75996988 0.80604335 0.76371262</span><br><span class="line">[5,] -2.73966777 0.01718087 -2.51552502</span><br><span class="line">[6,] 2.10583168 0.32284393 1.96086635</span><br><span class="line">[7,] -1.42105591 -0.06053165 -1.31043961</span><br><span class="line">[8,] -0.82583977 -0.78102576 -0.82219309</span><br><span class="line">[9,] -0.93464402 -0.58469242 -0.90618922</span><br><span class="line">[10,] 2.36463820 -0.36532199 2.14268298</span><br><span class="line">[11,] 2.83741916 0.34875841 2.63507969</span><br><span class="line">[12,] -2.60851224 0.21278728 -2.37913015</span><br><span class="line">[13,] -2.44253342 -0.16769496 -2.25757928</span><br><span class="line">[14,] 1.86630669 0.05021384 1.71865087</span><br><span class="line">[15,] 2.81347421 -0.31790107 2.55888214</span><br><span class="line">[16,] 0.06392983 0.20718448 0.07557617</span><br><span class="line">[17,] -1.55561022 -1.70439674 -1.56770034</span><br><span class="line">[18,] 1.07392251 -0.06763418 0.98110965</span><br><span class="line">[19,] -2.52174212 0.97274301 -2.23763039</span><br><span class="line">[20,] -2.14072377 0.02217881 -1.96487123</span><br><span class="line">[21,] -0.79624422 0.16307887 -0.71824807</span><br><span class="line">[22,] 0.28708321 -0.35744666 0.23468178</span><br><span class="line">[23,] -0.25151075 1.25555188 -0.12898555</span><br><span class="line">[24,] 2.05706032 0.78894494 1.95395431</span><br><span class="line">[25,] -3.08596855 -0.05775318 -2.83976229</span><br><span class="line">[26,] -0.16367555 0.04317932 -0.14685759</span><br><span class="line">[27,] 1.37265053 0.02220972 1.26285420</span><br><span class="line">[28,] 2.16097778 0.13733233 1.99644676</span><br><span class="line">[29,] 2.40434827 -0.48613137 2.16934265</span><br><span class="line">[30,] 0.50287468 0.14734317 0.47396795</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></p>
<p> 排序<br> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[11,]	2.83741916	0.34875841	2.63507969</span><br><span class="line">[15,]	2.81347421	-0.31790107	2.55888214</span><br><span class="line">[29,]	2.40434827	-0.48613137	2.16934265</span><br><span class="line">[10,]	2.3646382	-0.36532199	2.14268298</span><br><span class="line">[28,]	2.16097778	0.13733233	1.99644676</span><br><span class="line">[6,]	2.10583168	0.32284393	1.96086635</span><br><span class="line">[24,]	2.05706032	0.78894494	1.95395431</span><br><span class="line">[14,]	1.86630669	0.05021384	1.71865087</span><br><span class="line">[2,]	1.5952634	-0.71847399	1.40715017</span><br><span class="line">[27,]	1.37265053	0.02220972	1.2628542</span><br><span class="line">[18,]	1.07392251	-0.06763418	0.98110965</span><br><span class="line">[4,]	0.75996988	0.80604335	0.76371262</span><br><span class="line">[30,]	0.50287468	0.14734317	0.47396795</span><br><span class="line">[22,]	0.28708321	-0.35744666	0.23468178</span><br><span class="line">[16,]	0.06392983	0.20718448	0.07557617</span><br><span class="line">[1,]	0.0699095	-0.23813701	0.04486504</span><br><span class="line">[23,]	-0.25151075	1.25555188	-0.12898555</span><br><span class="line">[26,]	-0.16367555	0.04317932	-0.14685759</span><br><span class="line">[21,]	-0.79624422	0.16307887	-0.71824807</span><br><span class="line">[8,]	-0.82583977	-0.78102576	-0.82219309</span><br><span class="line">[9,]	-0.93464402	-0.58469242	-0.90618922</span><br><span class="line">[7,]	-1.42105591	-0.06053165	-1.31043961</span><br><span class="line">[17,]	-1.55561022	-1.70439674	-1.56770034</span><br><span class="line">[20,]	-2.14072377	0.02217881	-1.96487123</span><br><span class="line">[19,]	-2.52174212	0.97274301	-2.23763039</span><br><span class="line">[13,]	-2.44253342	-0.16769496	-2.25757928</span><br><span class="line">[12,]	-2.60851224	0.21278728	-2.37913015</span><br><span class="line">[5,]	-2.73966777	0.01718087	-2.51552502</span><br><span class="line">[3,]	-2.84793151	0.38956679	-2.58471151</span><br><span class="line">[25,]	-3.08596855	-0.05775318	-2.83976229</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    

    
    
    

    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://tiramisutes.github.io/2015/07/29/perl.html"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tiramisutes"/>
      <meta itemprop="description" content="hope bioinformatics blog"/>
      <meta itemprop="image" content="/images/author.jpg"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hope"/>
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2015/07/29/perl.html" class="post-title-link" itemprop="url">根据一个ID列表文件从一个fasta文件里面挑取符合要求的序列</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2015-07-29 13:53:40" itemprop="dateCreated datePublished" datetime="2015-07-29T13:53:40+08:00">2015-07-29</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Bioinformatics/" itemprop="url" rel="index"><span itemprop="name">Bioinformatics</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2015/07/29/perl.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2015/07/29/perl.html" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
            <span id="/2015/07/29/perl.html" class="leancloud_visitors" data-flag-title="根据一个ID列表文件从一个fasta文件里面挑取符合要求的序列">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">Views: </span>
              
                <span class="leancloud-visitors-count"></span>
                <span>℃</span>
            </span>
          

          

          
            <div class="post-symbolscount">
              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article: </span>
                
                <span title="Words count in article"></span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time"></span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>其中一个文件是ID列表，一个ID占一行，另一个文件是fasta格式的序列，一行是&gt;开头的标记，旗下所有行都是该标记的内容，直到下一个&gt;开头的标记</p>
<h3 id="Perl代码：">Perl代码：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/perl -w </span></span><br><span class="line"><span class="keyword">if</span>( @ARGV != 2  ) </span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">print</span> <span class="string">"Usage: we need two files\n"</span>;</span><br><span class="line">    <span class="built_in">exit</span> 0;</span><br><span class="line">&#125;</span><br><span class="line"> my <span class="variable">$ID</span>=<span class="built_in">shift</span> @ARGV;</span><br><span class="line"> my <span class="variable">$fasta</span>=<span class="built_in">shift</span> @ARGV;</span><br><span class="line"> open FH1,<span class="string">"&lt;<span class="variable">$ID</span>"</span> or die <span class="string">"can not open the file,$!"</span>;</span><br><span class="line"><span class="keyword">while</span> (&lt;FH1&gt;)</span><br><span class="line">&#123;</span><br><span class="line">chomp;</span><br><span class="line"><span class="variable">$hash</span>&#123;<span class="variable">$_</span>&#125;=1;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#读取第一个参数，ID列表，每一行的ID都扫描进去hash表</span></span><br><span class="line">open FH2,<span class="string">"<span class="variable">$fasta</span>"</span> or die <span class="string">"can not open the file,$!"</span>;</span><br><span class="line"><span class="keyword">while</span>(defined(<span class="variable">$line</span>=&lt;FH2&gt;))</span><br><span class="line">&#123;</span><br><span class="line">	chomp <span class="variable">$line</span>;</span><br><span class="line">	<span class="keyword">if</span>(<span class="variable">$line</span> =~ /&gt;/)</span><br><span class="line">	&#123;</span><br><span class="line">	<span class="variable">$key</span> = (split /\s/,<span class="variable">$line</span>)[0];</span><br><span class="line">	<span class="variable">$key</span> =~ s/&gt;//g;</span><br><span class="line">	<span class="variable">$flag</span> = exists <span class="variable">$hash</span>&#123;<span class="variable">$key</span>&#125;?1:0;</span><br><span class="line">	&#125;<span class="comment">#这个flag是用来控制这个标记下面的序列是否输出</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">print</span> <span class="variable">$line</span>.<span class="string">"\n"</span> <span class="keyword">if</span> <span class="variable">$flag</span> == 0;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://tiramisutes.github.io/2015/07/29/RStudio.html"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tiramisutes"/>
      <meta itemprop="description" content="hope bioinformatics blog"/>
      <meta itemprop="image" content="/images/author.jpg"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hope"/>
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2015/07/29/RStudio.html" class="post-title-link" itemprop="url">RStudio</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2015-07-29 13:19:30" itemprop="dateCreated datePublished" datetime="2015-07-29T13:19:30+08:00">2015-07-29</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/R/" itemprop="url" rel="index"><span itemprop="name">R</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2015/07/29/RStudio.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2015/07/29/RStudio.html" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
            <span id="/2015/07/29/RStudio.html" class="leancloud_visitors" data-flag-title="RStudio">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">Views: </span>
              
                <span class="leancloud-visitors-count"></span>
                <span>℃</span>
            </span>
          

          

          
            <div class="post-symbolscount">
              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article: </span>
                
                <span title="Words count in article"></span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time"></span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>RStudio is an integrated development environment (IDE) for R. It includes a console, syntax-highlighting editor that supports direct code execution, as well as tools for plotting, history, debugging and workspace management.</p>
<p><img src="https://raw.githubusercontent.com/wiki/tiramisutes/blog_image/RStudio.png" alt=""></p>
<h2 id="Publish_to_RPubs">Publish to RPubs</h2><h3 id="Getting_Started_with_RPubs">Getting Started with RPubs</h3><p>RStudio lets you harness the power of R Markdown to create documents that weave together your writing and the output of your R code. And now, with RPubs, you can publish those documents on the web with the click of a button!</p>
<h3 id="Prerequisites">Prerequisites</h3><p>You’ll need R itself, RStudio (v0.96.230 or later), and the knitr package (v0.5 or later).</p>
<h3 id="Instructions">Instructions</h3><p>In RStudio, create a new R Markdown document by choosing File | New | R Markdown.<br>Click the Knit HTML button in the doc toolbar to preview your document.<br>In the preview window, click the Publish button.<br><img src="https://raw.githubusercontent.com/wiki/tiramisutes/blog_image/RPubs.png" alt=""></p>
<h3 id="Results：">Results：</h3><p>Convergence testing<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">library(lattice)</span><br><span class="line">library(lme4)</span><br><span class="line">library(blme)</span><br><span class="line">library(reshape2)</span><br><span class="line">library(ggplot2); theme_set(theme_bw())</span><br><span class="line">library(gridExtra)  <span class="comment">## for grid.arrange</span></span><br><span class="line">library(bbmle) <span class="comment">## for slice2D; requires *latest* r-forge version (r121)</span></span><br><span class="line"><span class="built_in">source</span>(<span class="string">"allFit.R"</span>)</span><br></pre></td></tr></table></figure></p>
<p>Load data:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dList &lt;- load(<span class="string">"data.RData"</span>)</span><br></pre></td></tr></table></figure></p>
<p>Spaghetti plot: don’t see much pattern other than (1) general increasing trend; (2) quantized response values (table(dth$Estimate) or unique(dth$Estimate) also show this); (3) skewed residuals<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sort(unique(dth<span class="variable">$Estimate</span>))</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##  [1]  0.0  0.5  1.0  1.5  2.0  2.5  3.0  4.0  5.0  6.0  7.0  7.5  8.0 10.0</span></span><br><span class="line"><span class="comment">## [15] 12.0 15.0 17.0 20.0 25.0 30.0 35.0 40.0 50.0 60.0 70.0 75.0 90.0</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(p0 &lt;- ggplot(dth,aes(Actual,Estimate))+geom_point()+</span><br><span class="line">    geom_line(aes(group=factor(pid)))+</span><br><span class="line">    stat_summary(fun.y=mean,geom=<span class="string">"line"</span>,colour=<span class="string">"red"</span>,lwd=2))</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/wiki/tiramisutes/blog_image/download.png" alt=""></p>

          
        
      
    </div>

    

    
    
    

    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://tiramisutes.github.io/2015/07/29/resequencing.html"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tiramisutes"/>
      <meta itemprop="description" content="hope bioinformatics blog"/>
      <meta itemprop="image" content="/images/author.jpg"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hope"/>
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2015/07/29/resequencing.html" class="post-title-link" itemprop="url">全基因组重测序数据分析(Whole genomr Resequencing Analysis)</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2015-07-29 12:56:57" itemprop="dateCreated datePublished" datetime="2015-07-29T12:56:57+08:00">2015-07-29</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Bioinformatics/" itemprop="url" rel="index"><span itemprop="name">Bioinformatics</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2015/07/29/resequencing.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2015/07/29/resequencing.html" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
            <span id="/2015/07/29/resequencing.html" class="leancloud_visitors" data-flag-title="全基因组重测序数据分析(Whole genomr Resequencing Analysis)">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">Views: </span>
              
                <span class="leancloud-visitors-count"></span>
                <span>℃</span>
            </span>
          

          

          
            <div class="post-symbolscount">
              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article: </span>
                
                <span title="Words count in article"></span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time"></span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h2 id="简介(Introduction)">简介(Introduction)</h2><p>通过高通量测序识别发现de novo的somatic和germ line 突变，结构变异-SNV，包括重排突变（deletioin, duplication 以及copy number variation）以及SNP的座位；针对重排突变和SNP的功能性进行综合分析；我们将分析基因功能（包括miRNA），重组率（Recombination）情况，杂合性缺失（LOH）以及进化选择与mutation之间的关系；以及这些关系将怎样使得在disease（cancer）genome中的mutation产生对应的易感机制和功能。我们将在基因组学以及比较基因组学，群体遗传学综合层面上深入探索疾病基因组和癌症基因组。<br><img src="http://pic.biodiscover.com/uploads/7504adad8bb96320eb3afdd4df6e1f60/article/biodiscover_fda7838fd16452f881.jpg" alt=""></p>
<h2 id="实验设计与样本">实验设计与样本</h2><p>（1）Case-Control 对照组设计 ；<br>（2）家庭成员组设计：父母-子女组（4人、3人组或多人）；</p>
<h2 id="初级数据分析">初级数据分析</h2><p>1．数据量产出： 总碱基数量、Total Mapping Reads、Uniquely Mapping Reads统计，测序深度分析。<br>2．一致性序列组装：与参考基因组序列（Reference genome sequence）的比对分析，利用贝叶斯统计模型检测出每个碱基位点的最大可能性基因型，并组装出该个体基因组的一致序列。<br>3．SNP检测及在基因组中的分布：提取全基因组中所有多态性位点，结合质量值、测序深度、重复性等因素作进一步的过滤筛选，最终得到可信度高的SNP数据集。并根据参考基因组信息对检测到的变异进行注释。<br>4．InDel检测及在基因组的分布: 在进行mapping的过程中，进行容gap的比对并检测可信的short InDel。在检测过程中，gap的长度为1~5个碱基。对于每个InDel的检测，至少需要3个Paired-End序列的支持。<br>5．Structure Variation检测及在基因组中的分布: 能够检测到的结构变异类型主要有：插入、缺失、复制、倒位、易位等。根据测序个体序列与参考基因组序列比对分析结果，检测全基因组水平的结构变异并对检测到的变异进行注释。</p>
<h2 id="高级数据分析">高级数据分析</h2><h3 id="1-测序短序列匹配（Read_Mapping）">1.测序短序列匹配（Read Mapping）</h3><p>（1）屏蔽掉Y染色体上假体染色体区域（pseudo-autosomal region）, 将Read与参考序列NCBI36进行匹配（包括所有染色体，未定位的contig，以及线粒体序列mtDNA（将用校正的剑桥参考序列做替代）)。采用标准序列匹配处理对原始序列文件进行基因组匹配， 将Read与参考基因组进行初始匹配；给出匹配的平均质量得分分布；<br>（2）碱基质量得分的校准。我们采用碱基质量校准算法对每个Read中每个碱基的质量进行评分，并校准一些显著性误差，包括来自测序循环和双核苷酸结构导致的误差。<br>（3）测序误差率估计。 pseudoautosomal contigs，short repeat regions（包括segmental duplication，simple repeat sequence-通过tandem repeat识别算法识别）将被过滤；</p>
<h3 id="2-SNP_Calling_计算_（SNP_Calling）">2.SNP Calling 计算 （SNP Calling）</h3><p>我们可以采用整合多种SNP探测算法的结果，综合地，更准确地识别出SNP。通过对多种算法各自识别的SNP进行一致性分析，保留具有高度一致性的SNP作为最终SNP结果。这些具有高度一致性的SNP同时具有非常高的可信度。在分析中使用到的SNP识别算法包括基于贝叶斯和基因型似然值计算的方法，以及使用连锁不平衡LD或推断技术用于优化SNP识别检出的准确性。</p>
<p>统计SNV的等位基因频率在全基因组上的分布<br>稀有等位基因数目在不同类别的SNV中的比率分布（a）；SNV的类别主要考虑：（1）无义（nonsense）,（2）化学结构中非同义，（3）所有非同义，（4）保守的非同义，（5）非编码，（6）同义，等类型SNV； 另外，针对保守性的讨论，我们将分析非编码区域SNV的保守型情况及其分布（图a, b）</p>
<p><img src="http://pic.biodiscover.com/uploads/7504adad8bb96320eb3afdd4df6e1f60/article/biodiscover_5ec32097f340e47881.jpg" alt=""><br><img src="http://pic.biodiscover.com/uploads/7504adad8bb96320eb3afdd4df6e1f60/article/biodiscover_892310de264ab6c881.jpg" alt=""></p>
<h3 id="3-短插入/缺失探测（Short_Insertion_/Deletion_（Indel）Call）">3.短插入/缺失探测（Short Insertion /Deletion （Indel）Call）</h3><p>(1). 计算全基因组的indel变异和基因型检出值的过程<br>计算过程主要包含3步：（1）潜在的indel的探测；（2）通过局部重匹配计算基因型的似然值；（3）基于LD连锁不平衡的基因型推断和检出识别。Indel在X，Y染色体上没有检出值得出。<br>(2). Indel 过滤处理</p>
<h3 id="4-融合基因的发现（Fusion_gene_Discovery）">4.融合基因的发现（Fusion gene Discovery）</h3><p>选择注释的基因信息来自于当前最新版本的Ensemble Gene数据库，RefSeq数据库和Vega Gene数据库。下面图例给出的是融合基因的形成，即来自不同染色体的各自外显子经过重组形成融合基因的模式图。</p>
<p><img src="http://pic.biodiscover.com/uploads/7504adad8bb96320eb3afdd4df6e1f60/article/biodiscover_1883c266694b5ae881.jpg" alt=""></p>
<h3 id="5-结构变异（Structure_Variation）">5.结构变异（Structure Variation）</h3><p>结构变异（Structure Variation－SV）是基因组变异的一类主要来源，主要由大片段序列（一般&gt;1kb）的拷贝数变异（copy number variation, CNV）以及非平衡倒位（unbalance inversion）事件构成。目前主要一些基因组研究探测识别的SV大约有20,000个（DGV数据库）。在某些区域上，甚至SV形成的速率要大于SNP的速率，并与疾病临床表型具有很大关联。我们不仅可以通过测序方式识别公共的SV，也可以识别全新的SV。全新的SV的生成一般在germ line和突变机制方面都具有所报道。然而，当前对SV的精确解析需要更好的算法实现。同时，我们也需要对SV的形成机制要有更重要的认知，尤其是SV否起始于祖先基因组座位的插入或缺失，而不简单的根据等位基因频率或则与参考基因组序列比对判断。SV的功能性也结合群体遗传学和进化生物学结合起来，我们综合的考察SV的形成机制类别。</p>
<p>SV形成机制分析，包括以下几种可能存在的主要机制的识别发现：<br>（A）同源性介导的直系同源序列区段重组（NAHR）；<br>（B）与DNA双链断裂修复或复制叉停顿修复相关的非同源重组（NHR）；<br>（C）通过扩展和压缩机制形成可变数量的串联重复序列（VNTR）；<br>（D）转座元件插入（一般主要是长／短间隔序列元件LINE/SINE或者伴随TEI相关事件的两者的组合）。<br>结构变异探测和扩增子（Amplicon）的探测与识别分析:如下图所示</p>
<p><img src="http://pic.biodiscover.com/uploads/7504adad8bb96320eb3afdd4df6e1f60/article/biodiscover_42a6ff12ae6db79881.jpg" alt=""><br><img src="http://pic.biodiscover.com/uploads/7504adad8bb96320eb3afdd4df6e1f60/article/biodiscover_e701a15884d0ef3881.jpg" alt=""></p>
<h3 id="6-测序深度分析">6.测序深度分析</h3><p>测序深度分析就是指根据基因组框内覆盖度深度与期望覆盖度深度进行关联，并识别出SV。我们也将采用不同算法识别原始测序数据中的缺失片段（deletion）和重复片段（duplication）。</p>
<h3 id="7-SV探测识别结果的整合与FDR推断(可选步骤)">7.SV探测识别结果的整合与FDR推断(可选步骤)</h3><p>(1). PCR或者芯片方式验证SV<br>(2). 计算FDR-错误发现率（配合验证试验由客户指定）<br>(3)  筛选SV检出结果用于SV的合并和后续分析：我们通过不同方式探测识别SV的目的极大程度的检出SV，并且降低其FDR（&lt;=10%）。通过下属筛选方法决定后续分析所使用到的SV集合。每种SV探测识别算法得到的SV的FDR要求小于10%，并将各自符合条件的SV合并；对于FDR大于10% 的算法计算识别的SV结果，如果有PCR和芯片平台验证数据，同样可以纳入后续SV分析中。最后，针对不同算法得到的SV，整合处理根据breakpoint断点左右重合覆盖度的置信区间来评定；</p>
<h3 id="8-变异属性分析">8.变异属性分析</h3><p>(1) neutral coalescent分析<br>测序数据可以探测到低频率的变异体（MAF&lt;=5%）。根据来自群体遗传学理论（neutral coalescent理论）的期望值可以计算低频度变异的分布。我们用不同等位基因频率下每Mb变异数目与neutral coalescent 选择下的期望值比值，即每Mb 基因组windows内的theta观测值，来刻画和反映自然纯化选择与种群（cancer cell-line可以特定的认为是可以区分的种群）增长速率。该分布分别考察SNP（蓝色线），Indel（红色线），具有基因型的大片段缺失（黑色线），以及外显子区域上的 SNP（绿色线）在不同等位基因频率区间上的theta情况（参见下图）。<br><img src="http://pic.biodiscover.com/uploads/7504adad8bb96320eb3afdd4df6e1f60/article/biodiscover_4de2924a2659023881.jpg" alt=""><br>(2). 全新变异体(novel variant)的等位基因频率和数量分布<br>分析对象包括全新预测的SNP，indel，large deletion, 以及外显子SNP在每个等位基因频率类别下的数目比率（fraction）（参见下图）；全新预测是指预测分析结果与dbSNP（当前版本129）以及deletion数据库dbVar（2010年6月份版本）和已经发表的有关indels研究的基因组数据经过比较后识别确定的全新的SNP，indel以及deletion。dbSNP包含SNP和indels; dbVAR包含有deletion,duplication,以及mobile element insertion。dbRIP以及其他基因组学研究（JC Ventrer 以及Watson 基因组，炎黄计划亚洲人基因组）结果提供的short indels和large deletion。<br><img src="http://pic.biodiscover.com/uploads/7504adad8bb96320eb3afdd4df6e1f60/article/biodiscover_294dc6a11175d87881.jpg" alt=""><br>(3). 变异体的大小分布以及新颖性分布</p>
<p>计算SNP，Deletion，以及Insertion 大小分布；计算SNP，Deletion，以及Insertion中属于全新预测结果的数目占已有各自参考数据库数目的比例（相对于dbSNP数据库；dbSNP包含SNP和indels;dbVAR包含有deletion,duplication,以及mobile element insertion。dbRIP以及其他基因组学研究（JC Ventrer 以及Watson 基因组，炎黄计划亚洲人基因组）结果提供的short indels和large deletion）其中，可以给出LINE，Alu的特征位置。<br><img src="http://pic.biodiscover.com/uploads/7504adad8bb96320eb3afdd4df6e1f60/article/biodiscover_1ef2f8ecce847e0881.jpg" alt=""></p>
<p>(4). 结构变异SV的断点联结点(BreakPoint Junction)分析<br>根据SV不同检出结果经过一些列筛选步骤构建所有结构变异SV的断点联结点数据库，保留长度大于等于50bp的SV；分析断点联结点处具有homology或者microhomology的SV；并将同一染色体，起始和终止位置坐标下的不同SV进行去冗余处理。</p>
<p>分析识别SV 的断点联结点（Breakpoint）: 将Breakpoint按照可能形成的方式可以分类为以下几类：<br>（a）非等位基因同源重组型（non-allelic homologous recombination-NAHR）;<br>（b）非同源重组（nonhomologous recombination-NHR），包括nonhomologous end-joining (NHEJ)和fork stalling /template switching（FoSTeS/MMBIR）；<br>（c）可变串联重复（VNTR）<br>（d）转座插入元件（TEI）。</p>
<p>图 C<br><img src="http://pic.biodiscover.com/uploads/7504adad8bb96320eb3afdd4df6e1f60/article/biodiscover_cfbf071cefe41f6881.jpg" alt=""><br>SV形成偏好性分析<br>分析SV形成机制与断裂点临近区域序列的关系，包括染色质界标（端粒，中心粒），重组高发热点区域，重复序列以及ＧＣ含量，短DNA motif和微同源区域（microhomology region）。</p>
<p><img src="http://pic.biodiscover.com/uploads/7504adad8bb96320eb3afdd4df6e1f60/article/biodiscover_88118df3c49e866881.jpg" alt=""></p>
<h3 id="9-突变率估计">9.突变率估计</h3><p>针对以家庭成员为单位的测序方案，我们主要探测de novo的突变（DNM）；通过采用不同的方法/算法，我们给出每个家庭一份推断的DNM报表；</p>
<p>(1) 根据基因型推断结果，分别对每人每碱基位置上的de novo突变进行综合度量；<br>(2) 采用贝叶斯方法计算家庭组设计中DNM的后验概率</p>
<h3 id="10-SNP，SNV功能分析与注释">10.SNP，SNV功能分析与注释</h3><p>(1). 祖先等位基因的注释<br>通过将人类（NCBI36），黑猩猩（chimpanzee2.1），猩猩（PPYG2）以及恒河猴（MMUL1）4种基因组进行基因组比对，发现保守的序列区域，计算祖先等位基因；以及duplication/deletion事件的进化分析。<br>(2). 分析基因结构序列上不同区域的多样性（Diversity）与分歧进化（divergence）<br>根据基因型分析结果计算基因结构序列上的多样性程度，即杂合度(heterozygosity); 杂合度指标可以说明选择效应的存在以及局部变异的结构分布特征模式。我们将考虑基因5’UTR上游200bp ，5’UTR ，第一个外显子，第一个内含子，中间外显子，中间内含子，最末外显子和内含子，以及3’UTR及其下游200bp区域左右考察的范围(参见下图a)。   分析编码转录本的起始/终止位置临近区域的多样性和进化分歧度（参见下图b）。</p>
<p>(3). 疾病变异体探测<br>将样本测序中分析得到SV与HGMD疾病变异体数据进行比对，得到交叉记录的错义和无义的SNP；通过将HGMD疾病关联突变与CUI（疾病概念分类标识数据库）比对获得HGMD中所有SV的疾病表型，并获得HGMD与测序数据分析得到的SV的疾病表型；并通过Fisher检验和Bonferroni多重假设检验校正计算样本SV所富集的疾病表型。</p>
<p><img src="http://pic.biodiscover.com/uploads/7504adad8bb96320eb3afdd4df6e1f60/article/biodiscover_6a5a41bf5d1e34b881.jpg" alt=""></p>
<p>(4). 拷贝数变异CNV所含基因的功能注释<br>将CNV是否覆盖区段重复SD区域分类为2大类，每类CNV的所含基因的功能富集情况计算，显著性在横轴表示；各种显著性功能在纵轴表示。</p>
<p>(5). 变异的功能性分析与注释<br>（a）. SNP, Indels以及大的结构变异SV的功能注释;<br>（b）. 对包含翻译起始注释信息的转录本编码区上的SNP分类为：同义SNP，非同义SNP和无义SNP（引入终止子），干扰终止子的SNP，以及干扰剪接位点的SNP；为了降低假阳性，我们采用严格的筛选方式过滤来自indels的错误；<br>（c）.对错义编码区突变的功能性分析: 通过信息学分析算法评估相对于生殖系变异的体细胞突变对蛋白质的结构和功能的影响效应。</p>
<p>(6). SNV，SNP与miRNA研究之间的关联分析<br>miRNA是起重要的调控作用的小分子，我们将对miRNA的pri-mRNA，pre-miRNA以及miRNA靶基因序列进行分析，识别潜在的SNP功能位点。据文献研究提供证据表明Human pre-miRNA的二级结构中存在不同位置上的SNP，我们将通过热力学稳定性分析方法评估SNP对pre-miRNA结构的影响；另外，我们也将对miRNA-Target靶基因相互作用位点做分析，评估对SNP对靶基因靶向性的影响。</p>
<p>(7). SNV，SNP与GWAS研究之间的关联分析<br>分析GWAS研究中得到的易感基因在基因组上不同坐标上的OR值分布情况； 将当前已知的GWAS研究成果与SNP进行比较；根据LD连锁不平衡将SNP与易感基因的关系进行深入讨论;直接与间接关联方法可以分别识别与表型相关的SNP，对于不易获得（missing）和定位的SNP，通过LD连锁不平衡推断疾病易感基因突变座位。</p>
<p>(8) 生物学通路（代谢通路，信号通路）分析<br>生物学通路（Biological pathway），包括代谢通路和信号转导通路是生物功能的重要组成部分，我们将各种形式的突变、变异，包括SNV和SNP，的对应基因放到生物学通路中进行综合分析，考察功能性突变对pathway的影响程度和影响的规律。通过GSEA（配合芯片表达谱数据），KS检验，超几何分布检验等方法对变异基因在某些pathway的富集程度进行排序，识别发生功能改变的潜在通路。<br><img src="http://pic.biodiscover.com/uploads/7504adad8bb96320eb3afdd4df6e1f60/article/biodiscover_564fff92e831b5c881.jpg" alt=""></p>
<p>(9). 蛋白质-蛋白质相互作用（PPI）网络分析<br>蛋白质相互作用也是生物分子功能增益和缺失的重要途径，因此我们针对蛋白质相互作用网络中的突变的蛋白及其收到影响的网络节点蛋白进行系统分析，并对收到影响的网络子结构进行功能注释分析和聚类富分析。我们采用网络分析算法对由于各种突变所受到影响的子网络（subnetwork）进行功能富集度的分析；</p>
<p>(10). 顺式基因调控网络模块（CRM）分析</p>
<p>(a) 启动子序列分析<br>    包括动子区域上的Motif预测，并与已知转录因子数据库TRANSFAC和JASPAR中的TFBS结合位点进行比对；<br>    启动子区域上保守性分析，分析突变位置和保守性区域的关联；<br>(b) 计算全基因组保守性。确定TFBS的保守性以及mutation位置的保守性；</p>
<p>（11）重排（arrangements）与突变（mutation）的全基因组统计</p>
<p>（a）. 体细胞(somatic)和生殖系（germline）重排（arrangements）</p>
<p>体细胞突变是相对于germ line 突变的一类需要重要分析的内容，我们针对Case-control设计的测序方案可以分别分析突变的情况，包括SNV，indel，以及CNV；如果仅在tumor/disease(Case组)出现而不在normal（对照组）出现的突变我们可以认为是somatic体细胞突变。将somatic mutation 与dbSNP数据库比对可以发现潜在的全新的突变和有记录的突变位置。然后，将突变分别比对到基因区域和非基因区域。基因区域具体包括：内含子区，UTR，剪接位点区和外显子区。其中外显子区分别统计：同义（synonymous），缺失（deletion），阅读框移位（frameshift），插入（insertion）,错义（missense）,无义（nonsense）以及非编码蛋白外显子（non-protein coding exon）等不同类型。综合不同方面分析的结果，并按照突变分类给出各重排(arrangements)类型：SNV，CNV的数目统计数据表（参见下图） 。对每一测序样本分别进行标注，包括体细胞突变和生殖系突变。</p>
<p>（b） 全基因组全局重排分布特征分析</p>
<p><img src="http://pic.biodiscover.com/uploads/7504adad8bb96320eb3afdd4df6e1f60/article/biodiscover_e11d895fe949294881.jpg" alt=""></p>
<p>主要将（a）染色体间和染色体内部的结构变异，（b）杂合体缺失（LOH）与等位基因不平衡的状况，（c）拷贝数变异（增益或者缺失）以及高可信度的SNV（在1Mb间隔区间统计）等不同情况配合染色体核型在环状图的不同层次上分别的表示出来（参见下图例对应a-d）</p>
<p>(c) 单核苷酸突变趋势与模式分析</p>
<p><img src="http://pic.biodiscover.com/uploads/7504adad8bb96320eb3afdd4df6e1f60/article/biodiscover_d4a62ad19ebc732881.jpg" alt=""></p>
<p>分别统计在体细胞和生殖系细胞水平上的transversion的主要形式与各自所占比重（a）；如果有表达谱数据，可以分析表达基因与非表达基因所分别具有的突变重排数目或者种类（b）；转录起始位点上游区域的体细胞变异，生殖系germline变异以及随机变异的各自数目统计（c）和已知210种的不同肿瘤疾病的突变谱进行比较.</p>
<h3 id="11-自然选择分析">11.自然选择分析</h3><p>我们通过测序所观测到的体细胞突变可能是经历了复杂的过程所成的。因此，我们在研究这些突变的起源，突变如何受到DNA修复机制的影响，以及在疾病发展与进化过程中突变的规律方面需要做深入的分析。自然选择一般在两个方面发挥作用，即保留有利于疾病发展进化的突变的同时限制其在基因组中重要功能区域发生突变，例如转录调控区域和编码蛋白质的区域。因此，（1）如果实验设计是将primary disease与normal control做比较的话，系统的分析可以解析复杂疾病在形成突变过程中可能的机制和自然选择的因素。（2）如果实验设计是基于病灶及其转移位置或者邻接位置样本作测序，我们可以构建突变进化与转移的模型解析突变的动态模式和基因组中不稳定态变异的模式。</p>
<p>正向选择的判定:  分析SNP，SNV区域的正向选择趋势，在进化和群体遗传水平解释SNV，SNP的功能性；对待control与case 组样本,我们分别采用不同统计算法计算SNP，CNV在各自样本中的差异，进而从中发现具有正向选择特征的SV。<br><img src="http://pic.biodiscover.com/uploads/7504adad8bb96320eb3afdd4df6e1f60/article/biodiscover_2596a5e119b63cc881.jpg" alt=""></p>
<h2 id="相关文献(References)">相关文献(References)</h2><p>◆ <span class="exturl" data-url="aHR0cDovL3d3dy5uYXR1cmUuY29tL25nL2pvdXJuYWwvdjQyL24xMi9mdWxsL25nLjcxNS5odG1s" title="http://www.nature.com/ng/journal/v42/n12/full/ng.715.html">Resequencing of 31 wild and cultivated soybean genomes identifies patterns of genetic diversity and selection<i class="fa fa-external-link"></i></span><br>◆ <span class="exturl" data-url="aHR0cDovL3d3dy5uYXR1cmUuY29tL25idC9qb3VybmFsL3YzMy9uNC9mdWxsL25idC4zMDk2Lmh0bWw=" title="http://www.nature.com/nbt/journal/v33/n4/full/nbt.3096.html">Resequencing 302 wild and cultivated accessions identifies genes related to domestication and improvement in soybean<i class="fa fa-external-link"></i></span></p>

          
        
      
    </div>

    

    
    
    

    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://tiramisutes.github.io/2015/07/28/google.html"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tiramisutes"/>
      <meta itemprop="description" content="hope bioinformatics blog"/>
      <meta itemprop="image" content="/images/author.jpg"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hope"/>
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2015/07/28/google.html" class="post-title-link" itemprop="url">Google Web</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2015-07-28 22:51:06" itemprop="dateCreated datePublished" datetime="2015-07-28T22:51:06+08:00">2015-07-28</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Google/" itemprop="url" rel="index"><span itemprop="name">Google</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2015/07/28/google.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2015/07/28/google.html" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
            <span id="/2015/07/28/google.html" class="leancloud_visitors" data-flag-title="Google Web">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">Views: </span>
              
                <span class="leancloud-visitors-count"></span>
                <span>℃</span>
            </span>
          

          

          
            <div class="post-symbolscount">
              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article: </span>
                
                <span title="Words count in article"></span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time"></span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p><img src="https://raw.githubusercontent.com/wiki/tiramisutes/blog_image/google.png" alt=""><br>本文将不定期维护更新，删除不能用的，增加新的可用网址。欢迎 Ctrl+D 收藏。</p>
<p></p><h3>原版：</h3><p></p>
<p></p><p><span style="color:red">[推荐]</span><span class="exturl" data-url="aHR0cHM6Ly9nLm5hbWFoby5jb20v" title="https://g.namaho.com/">https://g.namaho.com/<i class="fa fa-external-link"></i></span><br><br><span style="color:red">[推荐]</span><span class="exturl" data-url="aHR0cDovL2Rpci5zY21vci5jb20vZ29vZ2xlLw==" title="http://dir.scmor.com/google/">http://dir.scmor.com/google/<i class="fa fa-external-link"></i></span><br><br><span style="color:red">[推荐]</span><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvL2dnLXdlbi1sdS8=" title="http://www.itechzero.com/go/gg-wen-lu/">https://gg.wen.lu/<i class="fa fa-external-link"></i></span><br><br><span style="color:red">[推荐]</span><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvL3d3dy1zb3VndWdlLWNvbS8=" title="http://www.itechzero.com/go/www-souguge-com/">https://www.souguge.com/<i class="fa fa-external-link"></i></span><br><br><span style="color:red">[推荐]</span><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvL3d3dy1ndWdlMTE5LWNvbS8=" title="http://www.itechzero.com/go/www-guge119-com/">https://www.guge119.com/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvL2ctYnQtZ2cv" title="http://www.itechzero.com/go/g-bt-gg/">http://g.bt.gg/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvL2cteW9uLWhrLw==" title="http://www.itechzero.com/go/g-yon-hk/">http://g.yon.hk/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvLzRiNGIteHl6Lw==" title="http://www.itechzero.com/go/4b4b-xyz/">https://4b4b.xyz/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvL2hpc2JpZy1jb20v" title="http://www.itechzero.com/go/hisbig-com/">http://hisbig.com/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvL3Mtamlhc3ViYW8tY28v" title="http://www.itechzero.com/go/s-jiasubao-co/">http://s.jiasubao.co/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvL2dnLWN5dGJqLWNvbS8=" title="http://www.itechzero.com/go/gg-cytbj-com/">http://gg.cytbj.com/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvL2FsbGVlLXNjaWVuY2Uv" title="http://www.itechzero.com/go/allee-science/">https://allee.science/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvL2ctZ2ludG9raS1uZXQv" title="http://www.itechzero.com/go/g-gintoki-net/">https://g.gintoki.net/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvL3d3dy1wcHgtcHcv" title="http://www.itechzero.com/go/www-ppx-pw/">https://www.ppx.pw/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvL3d3dy1ndWdlLWxpbmsv" title="http://www.itechzero.com/go/www-guge-link/">http://www.guge.link/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvL3d3dy1mY2N6cC1jb20v" title="http://www.itechzero.com/go/www-fcczp-com/">http://www.fcczp.com/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvL3d3dy1obGZlZWwtY29tLw==" title="http://www.itechzero.com/go/www-hlfeel-com/">http://www.hlfeel.com/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvL3d3dy1nZ29vby1uZXQv" title="http://www.itechzero.com/go/www-ggooo-net/">http://www.ggooo.net/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvL3d3dy1ndWdlLWNsaWNrLw==" title="http://www.itechzero.com/go/www-guge-click/">https://www.guge.click/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvL3d3dy1ndWdlLWRhdGUv" title="http://www.itechzero.com/go/www-guge-date/">https://www.guge.date/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvL2ctc2VhcmNoZXItdG9wLw==" title="http://www.itechzero.com/go/g-searcher-top/">https://gg.searcher.top/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvL3lvdXNoZW5nYnMtY29tLw==" title="http://www.itechzero.com/go/youshengbs-com/">http://youshengbs.com/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvL2dvb2dsZS1rYWluaWRpLWNuLw==" title="http://www.itechzero.com/go/google-kainidi-cn/">http://google.kainidi.cn/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvL2dvb2dsZS14ZmFjZS1tZS8=" title="http://www.itechzero.com/go/google-xface-me/">https://google.xface.me/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvL2dvb2dsZS1pdHF5OC1jb20v" title="http://www.itechzero.com/go/google-itqy8-com/">http://google.itqy8.com/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvL2dvLWhpYmVuYmVuLWNvbS8=" title="http://www.itechzero.com/go/go-hibenben-com/">http://go.hibenben.com/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvL3d3dy1iYWlkdS1jb20tc2Uv" title="http://www.itechzero.com/go/www-baidu-com-se/">http://www.baidu.com.se/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvL2ctbmllLW5ldGVhc2UtY29tLw==" title="http://www.itechzero.com/go/g-nie-netease-com/">https://g.nie.netease.com/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvL2dvb2dsZS1oay13ZXdlbGwtbmV0Lw==" title="http://www.itechzero.com/go/google-hk-wewell-net/">https://google-hk.wewell.net/<i class="fa fa-external-link"></i></span></p><p></p>
<p></p><p><span class="exturl" data-url="aHR0cHM6Ly93d3cuZ3VnZTExOS5jb20v" title="https://www.guge119.com/">https://www.guge119.com/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cHM6Ly9nLnloLmdzLw==" title="https://g.yh.gs/">https://g.yh.gs/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5ndWdlLmxpbmsv" title="http://www.guge.link/">http://www.guge.link/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL2NhcmJ5bmUubmV0LmNuLw==" title="http://carbyne.net.cn/">http://carbyne.net.cn/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL2dnLmNlbGxtZWFuLmNvbS8=" title="http://gg.cellmean.com/">http://gg.cellmean.com/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL2dvb2dsZS5zaWRuZXktYWxkZWJhcmFuLm1lLw==" title="http://google.sidney-aldebaran.me/">http://google.sidney-aldebaran.me/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cHM6Ly9nLnloLmdzLw==" title="https://g.yh.gs/">https://g.yh.gs/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cHM6Ly9ndWdlLmluLw==" title="https://guge.in/">https://guge.in/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL2cueW9uLmhrLw==" title="http://g.yon.hk/">http://g.yon.hk/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cHM6Ly9nZy53ZW4ubHUv" title="https://gg.wen.lu/">https://gg.wen.lu/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cHM6Ly9ncy5hd2VpLm1lLw==" title="https://gs.awei.me/">https://gs.awei.me/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5wcHgucHcv" title="http://www.ppx.pw/">http://www.ppx.pw/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL2dnLmN5dGJqLmNvbS8=" title="http://gg.cytbj.com/">http://gg.cytbj.com/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cHM6Ly9nLmVlbG9hZC5jb20v" title="https://g.eeload.com/">https://g.eeload.com/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5ndWdlLmxpbmsv" title="http://www.guge.link/">http://www.guge.link/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cHM6Ly9nLnNlYXJjaGVyLnRvcC8=" title="https://g.searcher.top/">https://g.searcher.top/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cHM6Ly93d3cua281MC5jb20v" title="https://www.ko50.com/">https://www.ko50.com/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cHM6Ly93d3cuZ3VnZS5jbGljay8=" title="https://www.guge.click/">https://www.guge.click/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cHM6Ly9nLnNlYXJjaGVyLnRvcC8=" title="https://g.searcher.top/">https://gg.searcher.top/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cHM6Ly9ndWdlLmRyb2lkZXIuY24v" title="https://guge.droider.cn/">https://guge.droider.cn/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL2dnLmNlbGxtZWFuLmNvbS8=" title="http://gg.cellmean.com/">http://gg.cellmean.com/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cHM6Ly9nb29nbGUueGZhY2UubWUv" title="https://google.xface.me/">https://google.xface.me/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5nb29nbGU1Mi5jb20v" title="http://www.google52.com/">http://www.google52.com/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cHM6Ly93d3cuZ3VnZTExOS5jb20v" title="https://www.guge119.com/">https://www.guge119.com/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5nb29nbGVzdGFibGUuY24v" title="http://www.googlestable.cn/">http://www.googlestable.cn/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL2dvb2dsZS5zaWRuZXktYWxkZWJhcmFuLm1lLw==" title="http://google.sidney-aldebaran.me/">http://google.sidney-aldebaran.me/<i class="fa fa-external-link"></i></span></p><p></p>
<p></p><h3>非原版：</h3><p></p>
<p></p><p>搜：<span class="exturl" data-url="aHR0cDovL3NvdS5jbG91ZGFwcC5uZXQv" title="http://sou.cloudapp.net/">http://sou.cloudapp.net/<i class="fa fa-external-link"></i></span><br><br>南搜：<span class="exturl" data-url="aHR0cDovL25hbi5zby9zaXRlcw==" title="http://nan.so/sites">http://nan.so/sites<i class="fa fa-external-link"></i></span><br><br>快搜：<span class="exturl" data-url="aHR0cDovL3d3dy5rdWFpc28uaGsv" title="http://www.kuaiso.hk/">http://www.kuaiso.hk/<i class="fa fa-external-link"></i></span><br><br>谷壳：<span class="exturl" data-url="aHR0cDovL3d3dy5nb29na2UubWUv" title="http://www.googke.me/">http://www.googke.me/<i class="fa fa-external-link"></i></span><br><br>蝴蝶：<span class="exturl" data-url="aHR0cDovL3d3dy54aWV4aW5nd2VuLmNvbS8=" title="http://www.xiexingwen.com/">http://www.xiexingwen.com/<i class="fa fa-external-link"></i></span><br><br>搜下看：<span class="exturl" data-url="aHR0cDovL3NveGlha2FuLmNvbS8=" title="http://soxiakan.com/">http://soxiakan.com/<i class="fa fa-external-link"></i></span><br><br>谷粉网：<span class="exturl" data-url="aHR0cDovL3d3dy5nb29sLndhbmcv" title="http://www.gool.wang/">http://www.gool.wang/<i class="fa fa-external-link"></i></span><br><br>喜乐搜：<span class="exturl" data-url="aHR0cDovL3d3dy54aWxlc291LmNvbS8=" title="http://www.xilesou.com/">http://www.xilesou.com/<i class="fa fa-external-link"></i></span><br><br>谷歌婊：<span class="exturl" data-url="aHR0cDovL3d3dy5ndWdlYmlhby5jb20v" title="http://www.gugebiao.com/">http://www.gugebiao.com/<i class="fa fa-external-link"></i></span><br><br>谷歌363：<span class="exturl" data-url="aHR0cDovL3d3dy5nMzYzLmNvbS8=" title="http://www.g363.com/">http://www.g363.com/<i class="fa fa-external-link"></i></span><br><br>给搜搜索：<span class="exturl" data-url="aHR0cDovL3d3dy5nZWlzby5jbi8=" title="http://www.geiso.cn/">http://www.geiso.cn/<i class="fa fa-external-link"></i></span><br><br>印象搜索：<span class="exturl" data-url="aHR0cDovL2dsLmltcHJlc3MucHcvcGFnZT9xPQ==" title="http://gl.impress.pw/page?q=">http://gl.impress.pw/<i class="fa fa-external-link"></i></span><br><br>谷粉搜搜：<span class="exturl" data-url="aHR0cDovL3d3dy5nZnNvdXNvdS5jbi8=" title="http://www.gfsousou.cn/">http://www.gfsousou.cn/<i class="fa fa-external-link"></i></span><br><br>翻墙谷歌：<span class="exturl" data-url="aHR0cDovL3NlYXJjaC41MjM5My5jb20v" title="http://search.52393.com/">http://search.52393.com/<i class="fa fa-external-link"></i></span><br><br>极客搜索：<span class="exturl" data-url="aHR0cDovL3d3dy5nZWVrZ2xlLmNvbS8=" title="http://www.geekgle.com/">http://www.geekgle.com/<i class="fa fa-external-link"></i></span><br><br>谷粉搜搜：<span class="exturl" data-url="aHR0cDovL2dmc29zby5oYW8xMzYuY29tLw==" title="http://gfsoso.hao136.com/">http://gfsoso.hao136.com/<i class="fa fa-external-link"></i></span><br><br>红杏谷歌：<span class="exturl" data-url="aHR0cDovL3d3dy5oeGdvb2dsZS5jb20v" title="http://www.hxgoogle.com/">http://www.hxgoogle.com/<i class="fa fa-external-link"></i></span><br><br>中国谷歌：<span class="exturl" data-url="aHR0cDovL3d3dy5nb29nbGVmb3JjaGluYS5jb20v" title="http://www.googleforchina.com/">http://www.googleforchina.com/<i class="fa fa-external-link"></i></span><br><br>极速网谷歌：<span class="exturl" data-url="aHR0cDovL2dvb2dsZS5tamlzdS5jb20v" title="http://google.mjisu.com/">http://google.mjisu.com/<i class="fa fa-external-link"></i></span><br><br>布谷鸟搜索：<span class="exturl" data-url="aHR0cDovL20ud2N1Y2tvby5jb20vc2VhcmNoLw==" title="http://m.wcuckoo.com/search/">http://m.wcuckoo.com/search/<i class="fa fa-external-link"></i></span><br><br>Ask：<span class="exturl" data-url="aHR0cDovL2hvbWUudGIuYXNrLmNvbS8=" title="http://home.tb.ask.com/">http://home.tb.ask.com/<i class="fa fa-external-link"></i></span><br><br>AOL：<span class="exturl" data-url="aHR0cDovL20uc2VhcmNoLmFvbC5jb20v" title="http://m.search.aol.com/">http://m.search.aol.com/<i class="fa fa-external-link"></i></span><br><br>5Ask：<span class="exturl" data-url="aHR0cDovL2NuLjVhc2suY29tLw==" title="http://cn.5ask.com/">http://cn.5ask.com/<i class="fa fa-external-link"></i></span><br><br>Avira：<span class="exturl" data-url="aHR0cHM6Ly9zYWZlc2VhcmNoLmF2aXJhLmNvbS8=" title="https://safesearch.avira.com/">https://safesearch.avira.com/<i class="fa fa-external-link"></i></span><br><br>WOW：<span class="exturl" data-url="aHR0cDovL3d3dy53b3cuY29tLw==" title="http://www.wow.com/">http://www.wow.com/<i class="fa fa-external-link"></i></span><br><br>Suche：<span class="exturl" data-url="aHR0cDovL3N1Y2hlLndlYi5kZS8=" title="http://suche.web.de/">http://suche.web.de/<i class="fa fa-external-link"></i></span><br><br>OpenGG：<span class="exturl" data-url="aHR0cDovL3d3dy5vcGVuZ2cuY24v" title="http://www.opengg.cn/">http://www.opengg.cn/<i class="fa fa-external-link"></i></span><br><br>Randomk：<span class="exturl" data-url="aHR0cDovL2dsLnJhbmRvbWsub3JnLw==" title="http://gl.randomk.org/">http://gl.randomk.org/<i class="fa fa-external-link"></i></span><br><br>Im Google：<span class="exturl" data-url="aHR0cDovL3d3dy5pbWdvb2dsZS5jbi8=" title="http://www.imgoogle.cn/">http://www.imgoogle.cn/<i class="fa fa-external-link"></i></span><br><br>Disconnect：<span class="exturl" data-url="aHR0cHM6Ly9zZWFyY2guZGlzY29ubmVjdC5tZS8=" title="https://search.disconnect.me/">https://search.disconnect.me/<i class="fa fa-external-link"></i></span><br><br>WebWebWeb：<span class="exturl" data-url="aHR0cDovL3dlYndlYndlYi5jb20v" title="http://webwebweb.com/">http://webwebweb.com/<i class="fa fa-external-link"></i></span></p><p></p>
<p></p><h3>智能跳转：</h3><p></p>
<p></p><p>谷大爷：<span class="exturl" data-url="aHR0cDovL2cucGh2Yi5jbi8=" title="http://g.phvb.cn/">http://g.phvb.cn/<i class="fa fa-external-link"></i></span><br><br>大中华：<span class="exturl" data-url="aHR0cDovL2kuZm9yYm9vay5uZXQv" title="http://i.forbook.net/">http://i.forbook.net/<i class="fa fa-external-link"></i></span><br><br>简约谷歌：<span class="exturl" data-url="aHR0cDovL2ZyZWUxMjMuY2Mv" title="http://free123.cc/">http://free123.cc/<i class="fa fa-external-link"></i></span><br><br>谷粉恰搜：<span class="exturl" data-url="aHR0cDovL3d3dy5xaWFzb3UuY29tLw==" title="http://www.qiasou.com/">http://www.qiasou.com/<i class="fa fa-external-link"></i></span><br><br>逆天谷歌：<span class="exturl" data-url="aHR0cDovL3d3dy5nbzIxMjEuY29tLw==" title="http://www.go2121.com/">http://www.go2121.com/<i class="fa fa-external-link"></i></span></p><p></p>
<p></p><h3>谷歌学术：</h3><p></p>
<p></p><p><span class="exturl" data-url="aHR0cHM6Ly93d3cucm9vbGluLmNvbS8=" title="https://www.roolin.com/">https://www.roolin.com/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3d3dy5zY2hvbGFybmV0LmNuLw==" title="http://www.scholarnet.cn/">http://www.scholarnet.cn/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3NjaG9sYXIueGlsZXNvdS5jb20v" title="http://scholar.xilesou.com/">http://scholar.xilesou.com/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL3h1ZXNodS5jeXRiai5jb20vc2Nob2xhci8=" title="http://xueshu.cytbj.com/scholar/">http://xueshu.cytbj.com/scholar/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cDovL2dmc3MuY2Mud2FsbHBhaS5jb20vc2Nob2xhci8=" title="http://gfss.cc.wallpai.com/scholar/">http://gfss.cc.wallpai.com/scholar/<i class="fa fa-external-link"></i></span><br><br><span class="exturl" data-url="aHR0cHM6Ly9kdWxpeml5b3UuY29tLyFzY2hvbGFyLmdvb2dsZS5jb20vc2NoaHA=" title="https://duliziyou.com/!scholar.google.com/schhp">https://duliziyou.com/!scholar.google.com/schhp<i class="fa fa-external-link"></i></span></p><br>贡献来源<br><span class="exturl" data-url="aHR0cDovL3d3dy5pdGVjaHplcm8uY29tL2dvb2dsZS1taXJyb3Itc2l0ZXMtY29sbGVjdC5odG1s" title="http://www.itechzero.com/google-mirror-sites-collect.html">http://www.itechzero.com/google-mirror-sites-collect.html<i class="fa fa-external-link"></i></span><p></p>

          
        
      
    </div>

    

    
    
    

    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://tiramisutes.github.io/2015/07/28/awk.html"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tiramisutes"/>
      <meta itemprop="description" content="hope bioinformatics blog"/>
      <meta itemprop="image" content="/images/author.jpg"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hope"/>
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2015/07/28/awk.html" class="post-title-link" itemprop="url">awk 不排序删除重复行</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2015-07-28 22:42:17" itemprop="dateCreated datePublished" datetime="2015-07-28T22:42:17+08:00">2015-07-28</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2015/07/28/awk.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2015/07/28/awk.html" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
            <span id="/2015/07/28/awk.html" class="leancloud_visitors" data-flag-title="awk 不排序删除重复行">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">Views: </span>
              
                <span class="leancloud-visitors-count"></span>
                <span>℃</span>
            </span>
          

          

          
            <div class="post-symbolscount">
              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article: </span>
                
                <span title="Words count in article"></span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time"></span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h3 id="处理的文件">处理的文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1 2 3</span><br><span class="line">1 2 3</span><br><span class="line">1 2 4</span><br><span class="line">1 2 3</span><br><span class="line">1 2 5</span><br></pre></td></tr></table></figure>
<h3 id="结果文件">结果文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 2 3</span><br><span class="line">1 2 4</span><br><span class="line">1 2 5</span><br></pre></td></tr></table></figure>
<h3 id="处理流程">处理流程</h3><p>而如果使用sort加uniq进行排序的话，这个文档是看不出有什么不妥，不过我要处理的是用户名与密码一行行对应好的，如果使用sort + uniq处理的话，用户名都排到一块了，密码也又都跑到一块了。这样就分不出来那个是那个了。 而使用的脚本很简单：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk <span class="string">'!x[$0]++'</span> filename</span><br></pre></td></tr></table></figure></p>
<p>注：此处的x只是一个数据参数的名字而已，随你用a、b、c、d都行。</p>
<p>简要解释一下，awk 的基本执行流程是，对文件的每一行，做一个指定的逻辑判断，如果逻辑判断成立，则执行指定的命令；如果逻辑判断不成立，则直接跳过这一行。</p>
<p>这里写的 awk 命令是<code>!x[$0]++</code>，意思是，首先创建一个 map 叫x，然后用当前行的全文<code>$0</code>作为 map 的 key，到 map 中查找相应的 value，如果没找到，则整个表达式的值为真，可以执行之后的语句；如果找到了，则表达式的值为假，跳过这一行。由于表达式之后有++，因此如果某个 key 找不到对应的 value，该++操作会先把对应的 value 设成 0，然后再自增成 1，这样下次再遇到重复的行的时候，对应的 key 就能找到一个非 0 的 value 了。</p>
<p>注：该处的map类似于array数组，只不过在awk中叫array不恰当。</p>
<p>awk Oneline中我们也学到过，awk 的流程是先判断表达式，表达式为真的时候就执行语句，可是我们前面写的这个 awk 命令里只有表达式，没有语句，那我们执行什么呢？原来，当语句被省略的时候，awk 就执行默认的语句，即打印整个完整的当前行。就这样，我们通过这个非常简短的 awk 命令实现了去除重复行并保留原有文件顺序的功能。</p>
<p>当然，我们也可以对该例进行下改变，通过判断某列的值相同，就只保留首行。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">awk <span class="string">'!a[$3]++'</span> filename</span><br><span class="line"></span><br><span class="line">删除第三列重复的行</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">awk <span class="string">'!a[$NF]++'</span> filename</span><br><span class="line">删除最后一列重复的行</span><br></pre></td></tr></table></figure>
<p>如何在去除重复行时对空白行不做处理，我这里总结了三种实现方法（都是仅使用awk工具），具体如下（为了便于区分，这里我使用nl命令加了行号）：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">[root@361way ~]<span class="comment"># cat a.txt |nl -b a   #原文件</span></span><br><span class="line">     1  1 2 3</span><br><span class="line">     2  1 2 3</span><br><span class="line">     3</span><br><span class="line">     4</span><br><span class="line">     5  1 2 4</span><br><span class="line">     6  1 2 3</span><br><span class="line">     7</span><br><span class="line">     8</span><br><span class="line">     9  1 2 5</span><br><span class="line">[root@361way ~]<span class="comment"># awk '!NF || !a[$0]++'  a.txt |nl -b a   #方法一</span></span><br><span class="line">     1  1 2 3</span><br><span class="line">     2</span><br><span class="line">     3</span><br><span class="line">     4  1 2 4</span><br><span class="line">     5</span><br><span class="line">     6</span><br><span class="line">     7  1 2 5</span><br><span class="line">[root@361way ~]<span class="comment"># awk '!NF &#123;print;next&#125; !($0 in a) &#123;a[$0];print&#125;'  a.txt |nl -b a   #方法二</span></span><br><span class="line">     1  1 2 3</span><br><span class="line">     2</span><br><span class="line">     3</span><br><span class="line">     4  1 2 4</span><br><span class="line">     5</span><br><span class="line">     6</span><br><span class="line">     7  1 2 5</span><br><span class="line">[root@361way ~]<span class="comment"># awk '!/./ || !a[$0]++' a.txt |nl -b a  #方法三</span></span><br><span class="line">     1  1 2 3</span><br><span class="line">     2</span><br><span class="line">     3</span><br><span class="line">     4  1 2 4</span><br><span class="line">     5</span><br><span class="line">     6</span><br><span class="line">     7  1 2 5</span><br></pre></td></tr></table></figure></p>
<h3 id="指定列去重（经典之作）">指定列去重（经典之作）</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk <span class="string">'!a[$1]++'</span></span><br></pre></td></tr></table></figure>
<p><i class="fa fa-commenting-o"></i>解释</p>
<p><1> ：”!” 即非。</1></p>
<p><2>：a[$0]，以$0为数据下标，建立数组a</2></p>
<p><3>：a[$0]++，即给数组a赋值，a[$0]+=1</3></p>

          
        
      
    </div>

    

    
    
    

    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://tiramisutes.github.io/2015/07/28/Linux-backup.html"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tiramisutes"/>
      <meta itemprop="description" content="hope bioinformatics blog"/>
      <meta itemprop="image" content="/images/author.jpg"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hope"/>
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2015/07/28/Linux-backup.html" class="post-title-link" itemprop="url">Linux和windows定时备份数据到百度云盘</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2015-07-28 22:22:09" itemprop="dateCreated datePublished" datetime="2015-07-28T22:22:09+08:00">2015-07-28</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2015/07/28/Linux-backup.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2015/07/28/Linux-backup.html" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
            <span id="/2015/07/28/Linux-backup.html" class="leancloud_visitors" data-flag-title="Linux和windows定时备份数据到百度云盘">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">Views: </span>
              
                <span class="leancloud-visitors-count"></span>
                <span>℃</span>
            </span>
          

          

          
            <div class="post-symbolscount">
              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article: </span>
                
                <span title="Words count in article"></span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time"></span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h2 id="php实现Linux定时备份数据到百度云盘">php实现Linux定时备份数据到百度云盘</h2><p>安装bpcs_uploader 虽然关于bpcs_uploader的教程不少，但都千篇一律。虽然网上也有很详细的教程，不过可能还有漏掉的细节。<br>废话不多说了，开工。<br>下载程序包：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/oott123/bpcs_uploader/zipball/master</span><br></pre></td></tr></table></figure></p>
<p>解压：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip master</span><br></pre></td></tr></table></figure></p>
<p>默认的文件夹名字很长，为了方便以后操作，重命名文件夹：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv oott123-bpcs_uploader-3a33d09 baidu</span><br></pre></td></tr></table></figure></p>
<p>这里我将文件夹名字修改成了baidu，需要注意的是，以后的默认文件夹名字可能有所不同，毕竟程序会升级，你需要看一下解压出来的文件夹名称是什么。<br>进入程序目录：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> baidu</span><br></pre></td></tr></table></figure></p>
<p>设置权限：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x bpcs_uploader.php</span><br></pre></td></tr></table></figure></p>
<p>运行程序：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bpcs_uploader.php</span><br></pre></td></tr></table></figure></p>
<p>你可能会看到出错提示，因为运行程序需要PHP环境，而你的服务器上的PHP路径可能与程序中设置的不同，修改一下程序文件bpcs_uploader.php中的PHP路径即可。<br>查看PHP路径：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">which</span> php</span><br></pre></td></tr></table></figure></p>
<p>编辑bpcs_uploader.php文件：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi bpcs_uploader.php</span><br></pre></td></tr></table></figure></p>
<p>将第一句#!后的路径修改为你的PHP路径，如果你安装的是WDCP一键包，路径为：/www/wdlinux/php/bin/php<br>登录百度开发者中心：<span class="exturl" data-url="aHR0cDovL2RldmVsb3Blci5iYWlkdS5jb20v" title="http://developer.baidu.com/">http://developer.baidu.com/<i class="fa fa-external-link"></i></span><br>创建一个Web应用，应用名称自定义，例如：huihuige，其他默认设置就可以了。<br>此时，我们可以得到该应用的API Key，运行./bpcs_uploader.php后首先要输入的就是Key。<br>另外我们还要在应用管理中找到API管理，开启PCS API，设置一个目录，该目录将用于存放服务器上传过来的数据。<br>温馨提示：开启PCS API时设置的目录不可更改，但可以在”操作”菜单中删除应用重建。<br>输入Key后，接下来需要输入app floder name，也就是刚才开启PCS API时设置的目录名称。<br>然后需要输入access token，将你的Key填入以下地址相应位置，在浏览器打开得到的地址：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://openapi.baidu.com/oauth/2.0/authorize?response_type=token&amp;client_id=KEY&amp;redirect_uri=oob&amp;scope=netdisk</span><br></pre></td></tr></table></figure></p>
<p>然后你会看到一个写着”百度 Oauth2.0”的页面，将浏览器地址栏中的URL复制下来，找到access_token=和&amp;之间的字符串，这就是access token，输入access token后就完成了，你会看到SSH终端显示出了你的百度云盘容量。<br>如果之前有安装过bpcs_uploader，那么可以执行以下命令初始化：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bpcs_uploader.php init</span><br></pre></td></tr></table></figure></p>
<p>bpcs_uploader用法 查询容量：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bpcs_uploader.php quota</span><br></pre></td></tr></table></figure></p>
<p>上传文件：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bpcs_uploader.php upload [path_local] [path_remote]</span><br></pre></td></tr></table></figure></p>
<p>[path_local]是指服务器上的文件路径，[path_remote]是指百度云盘中的路径。<br>下载文件：<br><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bpcs_uploader.php download <span class="string">[path_local]</span> <span class="string">[path_remote]</span></span><br></pre></td></tr></table></figure></p>
<p>删除文件：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bpcs_uploader.php delete [path_remote]</span><br></pre></td></tr></table></figure></p>
<p>离线下载：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bpcs_uploader.php fetch [path_remote] [path_to_fetch]</span><br></pre></td></tr></table></figure></p>
<p>自动备份脚本 接下来需要设置自动备份数据，网上有许多自动备份脚本，所以我就不再复述了。<br>这里要介绍的是，由于我们多半都在Linux服务器上安装了控制面板，而控制面板都有自动备份数据的功能，比如WDCP就可以设置自动备份数据到/www/backup目录，那么我们就不再需要自动备份数据的脚本了，只需要一个脚本将备份目录下的所有文件上传到百度云盘即可。<br>下载脚本至baidu目录下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://www.huihuige.com/wp-content/uploads/2013/10/baidubd.zip</span><br></pre></td></tr></table></figure></p>
<p>解压：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip baidubd.zip</span><br></pre></td></tr></table></figure></p>
<p>这个脚本实用于WDCP面板用户，如果你的备份目录不同，可以打开脚本修改。<br>测试脚本是否有效：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sh baidubd.sh</span><br><span class="line">``` </span><br><span class="line">最后设置计划任务：</span><br><span class="line">``` bash</span><br><span class="line">crontab -e</span><br></pre></td></tr></table></figure></p>
<p>加入一行：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 0 * * * /root/baidu/baidubd.sh</span><br></pre></td></tr></table></figure></p>
<p>这里设置了每天的凌晨零点自动备份数据到百度云盘。</p>
<h2 id="python实现Linux命令行上传和下载百度云盘">python实现Linux命令行上传和下载百度云盘</h2><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2hvdXRpYW56ZS9ieXB5" title="https://github.com/houtianze/bypy">bypy<i class="fa fa-external-link"></i></span>:一个python写得百度网盘的linux客户端工具.</p>
<h3 id="下载">下载</h3><pre><code>git clone <span class="string">https:</span><span class="comment">//github.com/houtianze/bypy.git</span>
</code></pre><h3 id="要求">要求</h3><p><li>python &gt;=2.7</li></p>
<p><li>python需要Requests库</li><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python</span><br><span class="line">&gt;&gt;&gt; import requests</span><br><span class="line">ImportError: No module named requests</span><br></pre></td></tr></table></figure></p>
<h3 id="使用">使用</h3><p>完成以上安装，cd至之前的bypy的目录下，运行下面的命令开始初始化<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> bypy</span><br><span class="line">./bypy.py list</span><br></pre></td></tr></table></figure></p>
<p>首先他会要求你访问一个网址，需要你授权，授权后复制code给程序，如果没有报错，就可以看到你的同步目录了，你可以在网盘的我的应用数据文件夹里找到bypy文件夹，他就是应用目录了。</p>
<p>如果你迫不及待的要测试，那就试试直接把当前目录上传至百度网盘<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bypy.py upload</span><br></pre></td></tr></table></figure></p>
<p>如果你想看到上传进度，请加入-v选项<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bypy.py -v upload</span><br></pre></td></tr></table></figure></p>
<h3 id="常用命令">常用命令</h3><p>./bypy.py list    查看目录</p>
<p>./bypy.py mkdir newdir    新建目录</p>
<p>./bypy.py upload <local_file或者dir> <remote_file或者dir>    上传</remote_file或者dir></local_file或者dir></p>
<p>./bypy.py downfile或者./bypy.py downdir    下载<br>./bypy.py delete filename<br>./bypy.py rm dir<br>用的时候注意用help查看一下参数的使用，其中remote path的/代表了apps/bypy/这个路径,且命令中的斜线/表示或，如“delete/remove/rm”表示delete，remove和rm三个命令。</p>
<h3 id="自动备份到百度云">自动备份到百度云</h3><p><li>编写备份bash</li><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="comment"># File:    home/bin/bypy/baidu_sync.sh</span></span><br><span class="line"><span class="comment"># Author:  hope</span></span><br><span class="line"><span class="comment"># Version: 1.0</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># Some vars</span></span><br><span class="line">UPLOAD_SCRIPTS_DIR=<span class="string">"/public/home/zpxu/scripts"</span></span><br><span class="line">DATE=`date +%F`</span><br><span class="line">DATE_YEAR=`date +%Y`</span><br><span class="line">DATE_MONTH=`date +%m`</span><br><span class="line"> </span><br><span class="line"><span class="comment"># Backup</span></span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$UPLOAD_SCRIPTS_DIR</span></span><br><span class="line"><span class="built_in">cd</span> ..</span><br><span class="line">tar -czvf  scripts_<span class="variable">$DATE</span>.tar.gz <span class="variable">$UPLOAD_SCRIPTS_DIR</span></span><br><span class="line">/home/Python-2.7.10/./python /home/bin/bypy/./bypy.py mkdir scripts/<span class="variable">$DATE_YEAR</span>/<span class="variable">$DATE_MONTH</span></span><br><span class="line">/home/Python-2.7.10/./python /home/bin/bypy/./bypy.py -v upload scripts_<span class="variable">$DATE</span>.tar.gz scripts/<span class="variable">$DATE_YEAR</span>/<span class="variable">$DATE_MONTH</span></span><br><span class="line">rm scripts_<span class="variable">$DATE</span>.tar.gz</span><br><span class="line">/home/Python-2.7.10/./python /home/bin/bypy/./bypy.py list</span><br></pre></td></tr></table></figure></p>
<p><li>设置cron定时执行</li><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ crontab -e</span><br></pre></td></tr></table></figure></p>
<p>此时会启动默认编辑器vim，添加以下内容<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># backup my scripts to baidu</span></span><br><span class="line">40 1 * * * &lt;备份bash目录/baidu_sync.sh&gt;</span><br></pre></td></tr></table></figure></p>
<p>以上内容意义为：每一行由空格分割为6部分，依次为”分钟”、”小时”、”日”、”月”、”星期”、”要执行的程序”。<br>备份操作可能消耗大量资源和时间，应该设置在凌晨访问量小、系统负载低的时候运行。如果有独立的服务器存储备份文件，还可以在脚本中增加ftp或者email传送备份文件到远程服务器的功能。</p>
<p></p><p></p><br><i class="fa fa-blind" aria-hidden="true"></i><strong>百度限制上传/下载数度，所以对于较大文件的转移不是很方便，上传时至少可以打包压缩下，至于下载目前还不知道有何良策。</strong><p></p>
<p></p><p></p><br><i class="fa fa-sign-language" aria-hidden="true"></i><strong>由于百度权限问题，使用百度云备份需要差不多一个月跟新一次授权，否则报错</strong><br><code>OpenShift server failed, authorizing/refreshing with the Heroku server …<code><br><strong>跟新授权办法如下：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">运行bypy.py -c，删除令牌文件，然后重新授权一次。</span><br><span class="line">如果还不行，去百度应用授权（https://passport.baidu.com/accountbind） 里删除bypy再重新授权。</span><br></pre></td></tr></table></figure><p></p>
<p></p><p></p><br>Contribution from ：<br><span class="exturl" data-url="aHR0cDovL3d3dy5sb3ZlbHVjeS5pbmZvL2F1dG8tYmFja3VwLXdlYnNpdGUtc2hlbGwtc2NyaXB0Lmh0bWw=" title="http://www.lovelucy.info/auto-backup-website-shell-script.html">http://www.lovelucy.info/auto-backup-website-shell-script.html<i class="fa fa-external-link"></i></span><br><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2hvdXRpYW56ZS9ieXB5L2lzc3Vlcy8xOTk=" title="https://github.com/houtianze/bypy/issues/199">https://github.com/houtianze/bypy/issues/199<i class="fa fa-external-link"></i></span><p></p>
</code></code>
          
        
      
    </div>

    

    
    
    

    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/13/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><span class="page-number current">14</span><a class="page-number" href="/page/15/">15</a><a class="extend next" rel="next" href="/page/15/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <a href="/" class="site-author-image" rel="start" style="border:none">
              <img class="site-author-image" itemprop="image"
                src="/images/author.jpg"
                alt="tiramisutes"/>
              </a>
            
              <p class="site-author-name" itemprop="name">tiramisutes</p>
              <div class="site-description motion-element" itemprop="description">hope bioinformatics blog</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">148</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">17</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">112</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RpcmFtaXN1dGVz" title="GitHub &rarr; https://github.com/tiramisutes"><i class="fa fa-fw fa-github"></i>GitHub</span>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <span class="exturl" data-url="bWFpbHRvOnRpcmFtaXN1dGVze2F0fTEyNi5jb20=" title="E-Mail &rarr; mailto:tiramisutes{at}126.com"><i class="fa fa-fw fa-envelope"></i>E-Mail</span>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <span class="exturl" data-url="aHR0cDovL3dlaWJvLmNvbS90aXJhbWlzdXRlc1Rlcw==" title="Weibo &rarr; http://weibo.com/tiramisutesTes"><i class="fa fa-fw fa-globe"></i>Weibo</span>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <span class="exturl" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS9ob3BldG9neQ==" title="Twitter &rarr; https://twitter.com/hopetogy"><i class="fa fa-fw fa-twitter"></i>Twitter</span>
                </span>
              
            </div>
          

          
             <div class="cc-license motion-element" itemprop="license">
              
              
                
              
              
              
              <span class="exturl cc-opacity" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC8="><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"/></span>
             </div>
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <span class="exturl" data-url="aHR0cHM6Ly9paG9wZS5zaGlueWFwcHMuaW8vcVJULVBDUi1QaXBlbGluZS8=" title="https://ihope.shinyapps.io/qRT-PCR-Pipeline/">qRT-PCR-Pipeline</span>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <span class="exturl" data-url="aHR0cHM6Ly90aXJhbWlzdXRlcy5naXRib29rcy5pby9hd2svY29udGVudC8=" title="https://tiramisutes.gitbooks.io/awk/content/">GitBook《awk学习总结》</span>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <span class="exturl" data-url="aHR0cDovL2NvdHRvbi5oemF1LmVkdS5jbi8=" title="http://cotton.hzau.edu.cn/">棉花遗传改良团队</span>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <span class="exturl" data-url="aHR0cDovL3d3dy5iaW8taW5mby10cmFpbmVlLmNvbS8=" title="http://www.bio-info-trainee.com/">生信菜鸟团-深圳大学城</span>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <span class="exturl" data-url="aHR0cDovL3d3dy5iaW90cmFpbmVlLmNvbS9mb3J1bS5waHA=" title="http://www.biotrainee.com/forum.php">生信技能树</span>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <span class="exturl" data-url="aHR0cDovL3d3dy5pd2hnYW8uY29tLw==" title="http://www.iwhgao.com/">rabbit gao's blog</span>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <span class="exturl" data-url="aHR0cHM6Ly9odWFucy5naXRodWIuaW8v" title="https://huans.github.io/">Huans(代谢+GWAS)</span>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <span class="exturl" data-url="aHR0cDovL3d3dy5zZXF1ZW5jaW5nLnVpby5uby8=" title="http://www.sequencing.uio.no/">NSC-sequenceing</span>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <span class="exturl" data-url="aHR0cDovL2Jsb2cuam9iYm9sZS5jb20v" title="http://blog.jobbole.com/">伯乐在线</span>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <span class="exturl" data-url="aHR0cHM6Ly9saW51eC5jbi8=" title="https://linux.cn/">Linux开源中文社区</span>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <span class="exturl" data-url="aHR0cDovL3d3dy5yLWJsb2dnZXJzLmNvbS8=" title="http://www.r-bloggers.com/">R-bloggers</span>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <span class="exturl" data-url="aHR0cHM6Ly9jcmFuLnItcHJvamVjdC5vcmcvb3RoZXItZG9jcy5odG1s" title="https://cran.r-project.org/other-docs.html">R-resource</span>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <span class="exturl" data-url="aHR0cDovL3R1dG9yaWFscy5pcS5oYXJ2YXJkLmVkdS9SL1JncmFwaGljcy9SZ3JhcGhpY3MuaHRtbA==" title="http://tutorials.iq.harvard.edu/R/Rgraphics/Rgraphics.html">ggplot2</span>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <span class="exturl" data-url="aHR0cDovL2xpbGliZWkubmV0Lw==" title="http://lilibei.net/">pele' blog</span>
                  </li>
                
              </ul>
            </div>
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2014 – <span itemprop="copyrightYear">2023</span>
  <span class="with-love" id="animate">
    <i class="fa fa-heart"></i>
  </span>
  <a class="theme-link" target="_blank" href="http://tiramisutes.github.io/about/"><span class="author" itemprop="copyrightHolder">tiramisutes</span></a>

  
    <span class="post-meta-item-icon">
    </span>
    <span title="Symbols count total"></span>
  

  
    <span class="post-meta-item-icon">
    </span>
    <span title="Reading time total"></span>
  
</div>


  <div class="powered-by">Powered: <span class="exturl theme-link" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">▽ – <span class="exturl theme-link" data-url="aHR0cHM6Ly9naXRodWIuY29tL25leHQtdGhlbWUvaGV4by10aGVtZS1uZXh0">NexT.Muse</span></div>




        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  

  

  
    <span class="post-meta-item-icon">
      <i class="fa fa-line-chart"></i>
    </span>
    <span class="site-pv" title="Total Views">
    <a style="line-height: 1.5;" href="https://tongji.baidu.com/web/welcome/login" target="_blank">The total visits
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>&nbsp;times</a>
    </span>
  
</div>









        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>












  



  
    
    
      
    
  
  <script color='0,0,255' opacity='0.5' zIndex='-1' count='20' src="//cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-nest@1/canvas-nest-nomobile.min.js"></script>













  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script src="//cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.6/jquery.fancybox.min.js"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/schemes/muse.js?v=7.0.1"></script>



  

  


  <script src="/js/src/next-boot.js?v=7.0.1"></script>


  

  
  <script src="/js/src/exturl.js?v=7.0.1"></script>


  
  
  
    
  

  
    
      
    
  

  
  
  
    <script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script>
    <script>
      
        window.addEventListener('load', () => {
      
        quicklink({
          timeout: 3000,
          priority: true,
          ignores: [uri => uri.includes('#'),uri => uri == 'http://tiramisutes.github.io/page/14/',]
        });
      
        });
      
    </script>
  


  
  

  

<script src="//cdn.jsdelivr.net/npm/leancloud-storage@3/dist/av-min.js"></script>



<script src="//unpkg.com/valine/dist/Valine.min.js"></script>

<script>
  var GUEST = ['nick', 'mail', 'link'];
  var guest = 'nick,mail,link';
  guest = guest.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#comments',
    verify: false,
    notify: true,
    appId: 'c7x0fPmO8Ci9avDBRuGWHqpG-gzGzoHsz',
    appKey: 'iVJ6ST0e1O5xaiIhVwOyhbf3',
    placeholder: 'Just go go',
    avatar: 'mm',
    meta: guest,
    pageSize: '10' || 10,
    visitor: true
  });
</script>





  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
  

  
  
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  

  


  
<style>
.pdfobject-container {
  position: relative;
  overflow: auto;
  width: 100%;
}
</style>
<script>
if ($('body').find('div.pdf').length) {
  $.ajax({
    type: 'GET',
    url: '//cdn.jsdelivr.net/npm/pdfobject@2.1.1/pdfobject.min.js',
    dataType: 'script',
    cache: true,
    success: function() {
      $('body').find('div.pdf').each(function(i, o) {
        PDFObject.embed($(o).attr('target'), $(o), {
          pdfOpenParams: {
            navpanes: 0,
            toolbar: 0,
            statusbar: 0,
            pagemode: 'thumbs',
            view: 'FitH'
          },
          PDFJS_URL: '/lib/pdf/web/viewer.html',
          height: $(o).attr('height') || '500px'
        });
      });
    },
  });
}
</script>


  

  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>


  

  
  
  
    
  
  <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.js"></script>
  <script>
    
      pbOptions = {};
      
        pbOptions.iconStyle = "box";
      
        pbOptions.boxForm = "horizontal";
      
        pbOptions.position = "bottomCenter";
      
        pbOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Evernote,Facebook";
      
      new needShareButton('#needsharebutton-postbottom', pbOptions);
    
    
  </script>


  

  

  

  

</body>
</html>
